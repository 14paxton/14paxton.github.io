<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="stylesheet" href="/assets/css/just-the-docs-default.css"><link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"><style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(3)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(24) > ul > li:nth-child(3) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(24) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(24) > ul > li:nth-child(3) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(24) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(24) > ul.nav-list > li.nav-list-item:nth-child(3) > ul.nav-list { display: block; }</style><script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Spock | Paxton’s Notes</title><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="Spock" /><meta property="og:locale" content="en_US" /><meta name="description" content="Coding Notes" /><meta property="og:description" content="Coding Notes" /><link rel="canonical" href="http://localhost:4000/TestingFrameworks/Spock" /><meta property="og:url" content="http://localhost:4000/TestingFrameworks/Spock" /><meta property="og:site_name" content="Paxton’s Notes" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Spock" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Coding Notes","headline":"Spock","url":"http://localhost:4000/TestingFrameworks/Spock"}</script><body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><title id="svg-external-link-title">(external link)</title><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-copy" viewBox="0 0 16 16"><title>Copy</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"><title>Copied</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"><path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg><div class="side-bar"><div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> Paxton's Notes </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button></div><nav aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in MyPersonalDocsAndStuff category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/index" class="nav-list-link">MyPersonalDocsAndStuff</a><ul class="nav-list"><li class="nav-list-item"><a href="/GitHubPages/AppsForWorkflow" class="nav-list-link">AppsForWorkflow</a><li class="nav-list-item"><a href="/GitHubPages/CloudServices" class="nav-list-link">CloudServices</a><li class="nav-list-item"><a href="/GitHubPages/InterviewQ&A" class="nav-list-link">InterviewQ&A</a><li class="nav-list-item"><a href="/GitHubPages/LetterOfRecommendation" class="nav-list-link">LetterOfRecommendation</a><li class="nav-list-item"><a href="/GitHubPages/PastProjects" class="nav-list-link">PastProjects</a><li class="nav-list-item"><a href="/GitHubPages/PriorityLearning" class="nav-list-link">PriorityLearning</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in AWS category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/AWS/" class="nav-list-link">AWS</a><ul class="nav-list"><li class="nav-list-item"><a href="/AWS/CLI" class="nav-list-link">CLI</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Build category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Build/" class="nav-list-link">Build</a><ul class="nav-list"><li class="nav-list-item"><a href="/Build/Gradle" class="nav-list-link">Gradle</a><li class="nav-list-item"><a href="/Build/Maven" class="nav-list-link">Maven</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in DockerNotes category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/DockerNotes/" class="nav-list-link">DockerNotes</a><ul class="nav-list"><li class="nav-list-item"><a href="/DockerNotes/ARM64" class="nav-list-link">ARM64</a><li class="nav-list-item"><a href="/DockerNotes/Basics" class="nav-list-link">Basics</a><li class="nav-list-item"><a href="/DockerNotes/Dockerfile" class="nav-list-link">Dockerfile</a><li class="nav-list-item"><a href="/DockerNotes/Install" class="nav-list-link">Install</a><li class="nav-list-item"><a href="/DockerNotes/Quick-TidBits" class="nav-list-link">Quick-TidBits</a><li class="nav-list-item"><a href="/DockerNotes/UsefulCommands" class="nav-list-link">UsefulCommands</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in DotNetNotes category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/DotNetNotes/" class="nav-list-link">DotNetNotes</a><ul class="nav-list"><li class="nav-list-item"><a href="/DotNetNotes/CLI" class="nav-list-link">CLI</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in CSharp category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/DotNetNotes/Csharp" class="nav-list-link">CSharp</a><ul class="nav-list"><li class="nav-list-item"><a href="/DotNetNotes/CSharp/Email" class="nav-list-link">Email</a><li class="nav-list-item"><a href="/DotNetNotes/CSharp/Threading" class="nav-list-link">Threading</a></ul><li class="nav-list-item"><a href="/DotNetNotes/Controllers" class="nav-list-link">Controllers</a><li class="nav-list-item"><a href="/DotNetNotes/Database" class="nav-list-link">Database</a><li class="nav-list-item"><a href="/DotNetNotes/EntityFramework" class="nav-list-link">EntityFramework</a><li class="nav-list-item"><a href="/DotNetNotes/Environment" class="nav-list-link">Environment</a><li class="nav-list-item"><a href="/DotNetNotes/Google" class="nav-list-link">Google</a><li class="nav-list-item"><a href="/DotNetNotes/HTTP" class="nav-list-link">HTTP</a><li class="nav-list-item"><a href="/DotNetNotes/HttpRepl" class="nav-list-link">HttpRepl</a><li class="nav-list-item"><a href="/DotNetNotes/LINQ" class="nav-list-link">LINQ</a><li class="nav-list-item"><a href="/DotNetNotes/Maui" class="nav-list-link">Maui</a><li class="nav-list-item"><a href="/DotNetNotes/Microservice" class="nav-list-link">Microservice.md</a><li class="nav-list-item"><a href="/DotNetNotes/VisualStudio" class="nav-list-link">VisualStudio</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Git category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Git" class="nav-list-link">Git</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in GitHub category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Git/GitHub" class="nav-list-link">GitHub</a><ul class="nav-list"><li class="nav-list-item"><a href="/GitHub/GitHubPages" class="nav-list-link">GitHubPages</a><li class="nav-list-item"><a href="/GitHub/Jekyll" class="nav-list-link">Jekyll</a><li class="nav-list-item"><a href="/GitHub/MarkDown" class="nav-list-link">MarkDown</a></ul><li class="nav-list-item"><a href="/Git/QuickScripts" class="nav-list-link">QuickScripts</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in GoogleNotes category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/GoogleNotes/" class="nav-list-link">GoogleNotes</a><ul class="nav-list"><li class="nav-list-item"><a href="/GoogleNotes/APIs" class="nav-list-link">APIs</a><li class="nav-list-item"><a href="/GoogleNotes/Browser" class="nav-list-link">Browser</a><li class="nav-list-item"><a href="/GoogleNotes/Cloud" class="nav-list-link">Cloud</a><li class="nav-list-item"><a href="/GoogleNotes/ComputeEngine" class="nav-list-link">ComputeEngine</a><li class="nav-list-item"><a href="/GoogleNotes/Deploy" class="nav-list-link">Deploy</a><li class="nav-list-item"><a href="/GoogleNotes/DevTools" class="nav-list-link">DevTools</a><li class="nav-list-item"><a href="/GoogleNotes/DialogFlow" class="nav-list-link">DialogFlow</a><li class="nav-list-item"><a href="/GoogleNotes/Functions" class="nav-list-link">Functions</a><li class="nav-list-item"><a href="/GoogleNotes/Logging" class="nav-list-link">Logging</a><li class="nav-list-item"><a href="/GoogleNotes/ServiceAccounts" class="nav-list-link">ServiceAccounts</a><li class="nav-list-item"><a href="/GoogleNotes/Storage" class="nav-list-link">Storage</a><li class="nav-list-item"><a href="/GoogleNotes/VoiceAgent" class="nav-list-link">VoiceAgent</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in GroovyNotes category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/GroovyNotes/" class="nav-list-link">GroovyNotes</a><ul class="nav-list"><li class="nav-list-item"><a href="/GroovyNotes/Array-Loop-List-Map" class="nav-list-link">Array-Loop-List-Map</a><li class="nav-list-item"><a href="/GroovyNotes/Async_Parallel-Concurrency" class="nav-list-link">Async_Parallel-Concurrency</a><li class="nav-list-item"><a href="/GroovyNotes/Clever-Tid-bits" class="nav-list-link">Clever-Tid-bits</a><li class="nav-list-item"><a href="/GroovyNotes/DateAndTime" class="nav-list-link">DateAndTime</a><li class="nav-list-item"><a href="/GroovyNotes/Enum" class="nav-list-link">Enum</a><li class="nav-list-item"><a href="/GroovyNotes/MetaProgramming" class="nav-list-link">MetaProgramming</a><li class="nav-list-item"><a href="/GroovyNotes/RegEx" class="nav-list-link">RegEx</a><li class="nav-list-item"><a href="/GroovyNotes/String" class="nav-list-link">String</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in HTML&CSS category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/HTML&CSS/" class="nav-list-link">HTML&CSS</a><ul class="nav-list"><li class="nav-list-item"><a href="/HTML&CSS/CSS" class="nav-list-link">CSS</a><li class="nav-list-item"><a href="/HTML&CSS/HTML" class="nav-list-link">HTML</a><li class="nav-list-item"><a href="/HTML&CSS/Images" class="nav-list-link">Images</a></ul><li class="nav-list-item"><a href="/HTTP" class="nav-list-link">HTTP</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in IntelliJNotes category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/IntelliJNotes/" class="nav-list-link">IntelliJNotes</a><ul class="nav-list"><li class="nav-list-item"><a href="/IntelliJNotes/CustomVM" class="nav-list-link">CustomVM</a><li class="nav-list-item"><a href="/IntelliJNotes/DebuggerConfig" class="nav-list-link">DebuggerConfig</a><li class="nav-list-item"><a href="/IntelliJNotes/HTTPExamples" class="nav-list-link">HTTPExamples</a><li class="nav-list-item"><a href="/IntelliJNotes/Spaces" class="nav-list-link">Spaces</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Java category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/JavaNotes/Java" class="nav-list-link">Java</a><ul class="nav-list"><li class="nav-list-item"><a href="/JavaNotes/Algorithms" class="nav-list-link">Algorithms</a><li class="nav-list-item"><a href="/JavaNotes/Annotations" class="nav-list-link">Annotations</a><li class="nav-list-item"><a href="/JavaNotes/CommandLineDiddys" class="nav-list-link">CommandLineDiddys</a><li class="nav-list-item"><a href="/JavaNotes/DataBase" class="nav-list-link">DataBase</a><li class="nav-list-item"><a href="/JavaNotes/Email" class="nav-list-link">Email</a><li class="nav-list-item"><a href="/JavaNotes/File" class="nav-list-link">File</a><li class="nav-list-item"><a href="/JavaNotes/GCP" class="nav-list-link">GCP</a><li class="nav-list-item"><a href="/JavaNotes/Hibernate" class="nav-list-link">Hibernate</a><li class="nav-list-item"><a href="/JavaNotes/LooseNotes" class="nav-list-link">LooseNotes</a><li class="nav-list-item"><a href="/JavaNotes/OOP" class="nav-list-link">OOP</a><li class="nav-list-item"><a href="/JavaNotes/String" class="nav-list-link">String</a><li class="nav-list-item"><a href="/JavaNotes/Threads" class="nav-list-link">Threads</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in JavaScript category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/JavaScript/" class="nav-list-link">JavaScript</a><ul class="nav-list"><li class="nav-list-item"><a href="/JavaScript/CDN" class="nav-list-link">CDN</a><li class="nav-list-item"><a href="/JavaScript/CSS" class="nav-list-link">CSS</a><li class="nav-list-item"><a href="/JavaScript/Clever-Algos" class="nav-list-link">Clever-Algos</a><li class="nav-list-item"><a href="/JavaScript/DateAndTime" class="nav-list-link">DateAndTime</a><li class="nav-list-item"><a href="/JavaScript/Document" class="nav-list-link">Document</a><li class="nav-list-item"><a href="/JavaScript/Elements" class="nav-list-link">Elements</a><li class="nav-list-item"><a href="/JavaScript/Events" class="nav-list-link">Events</a><li class="nav-list-item"><a href="/JavaScript/FormStuff" class="nav-list-link">FormStuff</a><li class="nav-list-item"><a href="/JavaScript/FunctionObject" class="nav-list-link">FunctionObject</a><li class="nav-list-item"><a href="/JavaScript/HTTP" class="nav-list-link">HTTP</a><li class="nav-list-item"><a href="/JavaScript/Map" class="nav-list-link">Map</a><li class="nav-list-item"><a href="/JavaScript/Modules" class="nav-list-link">Modules</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Node category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/JavaScript/Node/" class="nav-list-link">Node</a><ul class="nav-list"><li class="nav-list-item"><a href="/JavaScript/Node/QuickScripts" class="nav-list-link">QuickScripts</a></ul><li class="nav-list-item"><a href="/JavaScript/Number" class="nav-list-link">Number</a><li class="nav-list-item"><a href="/JavaScript/Object" class="nav-list-link">Object</a><li class="nav-list-item"><a href="/JavaScript/QuerySelector" class="nav-list-link">QuerySelector</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ReactNotes category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/JavaScript/ReactNotes" class="nav-list-link">ReactNotes</a><ul class="nav-list"><li class="nav-list-item"><a href="/ReactNotes/Clever-Snippets" class="nav-list-link">Clever-Snippets</a><li class="nav-list-item"><a href="/Javascript/ReactNotes/Configuring" class="nav-list-link">Configuring</a><li class="nav-list-item"><a href="/JavaScript/ReactNotes/Context" class="nav-list-link">Context</a><li class="nav-list-item"><a href="/ReactNotes/HandleEvents" class="nav-list-link">HandleEvents</a><li class="nav-list-item"><a href="/ReactNotes/MUI" class="nav-list-link">MUI</a><li class="nav-list-item"><a href="/ReactNotes/Mat-Table" class="nav-list-link">Mat-Table</a><li class="nav-list-item"><a href="/ReactNotes/React-Router" class="nav-list-link">React-Router</a><li class="nav-list-item"><a href="/ReactNotes/ReactHookForm" class="nav-list-link">ReactHookForm</a><li class="nav-list-item"><a href="/ReactNotes/String" class="nav-list-link">String</a><li class="nav-list-item"><a href="/ReactNotes/WebWorker" class="nav-list-link">WebWorker</a></ul><li class="nav-list-item"><a href="/JavaScript/RegEx" class="nav-list-link">RegEx</a><li class="nav-list-item"><a href="/JavaScript/State" class="nav-list-link">State</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in TypeScript category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/JavaScript/TypeScript/" class="nav-list-link">TypeScript</a><ul class="nav-list"><li class="nav-list-item"><a href="/JavaScript/TypeScript/Events" class="nav-list-link">Events</a><li class="nav-list-item"><a href="/JavaScript/TypeScript/QuickScripts" class="nav-list-link">QuickScripts</a><li class="nav-list-item"><a href="/JavaScript/TypeScript/Types" class="nav-list-link">Types</a></ul><li class="nav-list-item"><a href="/JavaScript/UsefulSnippets" class="nav-list-link">UsefulSnippets</a><li class="nav-list-item"><a href="/JavaScript/WebAPI" class="nav-list-link">WebAPI</a><li class="nav-list-item"><a href="/JavaScript/Window" class="nav-list-link">Window</a><li class="nav-list-item"><a href="/JavaScript/WorkingWithFiles" class="nav-list-link">WorkingWithFiles</a></ul><li class="nav-list-item"><a href="/Kubernetes" class="nav-list-link">Kubernetes</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Linux category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Linux/" class="nav-list-link">Linux</a><ul class="nav-list"><li class="nav-list-item"><a href="/Linux/ADMIN-ROOT" class="nav-list-link">ADMIN-ROOT</a><li class="nav-list-item"><a href="/Linux/Conditionals" class="nav-list-link">Conditionals</a><li class="nav-list-item"><a href="/Linux/Email" class="nav-list-link">Email</a><li class="nav-list-item"><a href="/Linux/Encoding" class="nav-list-link">Encoding</a><li class="nav-list-item"><a href="/Linux/JQ" class="nav-list-link">JQ</a><li class="nav-list-item"><a href="/Linux/MySQL" class="nav-list-link">MySQL</a><li class="nav-list-item"><a href="/Linux/PGP" class="nav-list-link">PGP</a><li class="nav-list-item"><a href="/Linux/QuickScripts" class="nav-list-link">QuickScripts</a><li class="nav-list-item"><a href="/Linux/SDKMan" class="nav-list-link">SDKMan</a><li class="nav-list-item"><a href="/Linux/Scripting" class="nav-list-link">Scripting</a><li class="nav-list-item"><a href="/Linux/VIM_QuickTips" class="nav-list-link">VIM_QuickTips</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in MacNotes category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/MacNotes/" class="nav-list-link">MacNotes</a><ul class="nav-list"><li class="nav-list-item"><a href="/MacNotes/AppleScripts" class="nav-list-link">AppleScripts</a><li class="nav-list-item"><a href="/MacNotes/HomeBrew" class="nav-list-link">HomeBrew</a><li class="nav-list-item"><a href="/MacNotes/JavaOnMac" class="nav-list-link">JavaOnMac</a><li class="nav-list-item"><a href="/MacNotes/QuickScripts" class="nav-list-link">QuickScripts</a><li class="nav-list-item"><a href="/MacNotes/ShortCuts" class="nav-list-link">ShortCuts</a><li class="nav-list-item"><a href="/MacNotes/UsersAndGroups" class="nav-list-link">UsersAndGroups</a><li class="nav-list-item"><a href="/MacNotes/Utilities" class="nav-list-link">Utilities</a><li class="nav-list-item"><a href="/MacNotes/ZSH" class="nav-list-link">ZSH</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Micronotes category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Micronotes/" class="nav-list-link">Micronotes</a><ul class="nav-list"><li class="nav-list-item"><a href="/Micronotes/202208_WorkshopNotes" class="nav-list-link">202208_WorkshopNotes</a><li class="nav-list-item"><a href="/Micronotes/AWS" class="nav-list-link">AWS</a><li class="nav-list-item"><a href="/Micronotes/Annotations" class="nav-list-link">Annotations</a><li class="nav-list-item"><a href="/Micronotes/Configuration" class="nav-list-link">Configuration</a><li class="nav-list-item"><a href="/Micronotes/DataBaseStuff" class="nav-list-link">DataBaseStuff</a><li class="nav-list-item"><a href="/Micronotes/Email" class="nav-list-link">Email</a><li class="nav-list-item"><a href="/Micronotes/EnviromentStuff" class="nav-list-link">EnviromentStuff</a><li class="nav-list-item"><a href="/Micronotes/GRAALVM" class="nav-list-link">GRAALVM</a><li class="nav-list-item"><a href="/Micronotes/Jackson" class="nav-list-link">Jackson</a><li class="nav-list-item"><a href="/Micronotes/MicroStream" class="nav-list-link">MicroStream</a><li class="nav-list-item"><a href="/Micronotes/Resources" class="nav-list-link">Resources</a><li class="nav-list-item"><a href="/Micronotes/Testing" class="nav-list-link">Testing</a><li class="nav-list-item"><a href="/Micronotes/cli_gradlew" class="nav-list-link">cli_gradlew</a></ul><li class="nav-list-item"><a href="/Obsidian/Obsidian" class="nav-list-link">Obsidian</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in PersonalGrailsNotes category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/PersonalGrailsNotes/" class="nav-list-link">PersonalGrailsNotes</a><ul class="nav-list"><li class="nav-list-item"><a href="/PersonalGrailsNotes/AccessHibernateAndDataStoreAndSession" class="nav-list-link">AccessHibernateAndDataStoreAndSession</a><li class="nav-list-item"><a href="/PersonalGrailsNotes/CLI_Gradlew" class="nav-list-link">CLI_Gradlew</a><li class="nav-list-item"><a href="/PersonalGrailsNotes/CLI_Grailsw" class="nav-list-link">CLI_Grailsw</a><li class="nav-list-item"><a href="/PersonalGrailsNotes/CleverSnippets" class="nav-list-link">CleverSnippets</a><li class="nav-list-item"><a href="/PersonalGrailsNotes/Config" class="nav-list-link">Config</a><li class="nav-list-item"><a href="/PersonalGrailsNotes/Controller" class="nav-list-link">Controller</a><li class="nav-list-item"><a href="/PersonalGrailsNotes/DataServices" class="nav-list-link">DataServices</a><li class="nav-list-item"><a href="/PersonalGrailsNotes/Domain_Stuff" class="nav-list-link">Domain_Stuff</a><li class="nav-list-item"><a href="/PersonalGrailsNotes/Enviroment" class="nav-list-link">Enviroment</a><li class="nav-list-item"><a href="/PersonalGrailsNotes/GORM_WhereQueris" class="nav-list-link">GORM_WhereQueris</a><li class="nav-list-item"><a href="/PersonalGrailsNotes/HQLComplexQueries" class="nav-list-link">HQLComplexQueries</a><li class="nav-list-item"><a href="/PersonalGrailsNotes/HQLQueries" class="nav-list-link">HQLQueries</a><li class="nav-list-item"><a href="/PersonalGrailsNotes/RunningApp" class="nav-list-link">RunningApp</a><li class="nav-list-item"><a href="/PersonalGrailsNotes/Security" class="nav-list-link">Security</a><li class="nav-list-item"><a href="/PersonalGrailsNotes/Services" class="nav-list-link">Services</a><li class="nav-list-item"><a href="/PersonalGrailsNotes/Testing" class="nav-list-link">Testing</a><li class="nav-list-item"><a href="/PersonalGrailsNotes/Text_Manipulation" class="nav-list-link">Text_Manipulation</a></ul><li class="nav-list-item"><a href="/RandomNuggetsOfKnowledge" class="nav-list-link">RandomNuggetsOfKnowledge</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in SQLNotes category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/SQLNotes/" class="nav-list-link">SQLNotes</a><ul class="nav-list"><li class="nav-list-item"><a href="/SQLNotes/Docker" class="nav-list-link">Docker</a><li class="nav-list-item"><a href="/SQLNotes/Functions" class="nav-list-link">Functions</a><li class="nav-list-item"><a href="/SQLNotes/HQL" class="nav-list-link">HQL</a><li class="nav-list-item"><a href="/SQLNotes/Liquibase" class="nav-list-link">Liquibase</a><li class="nav-list-item"><a href="/SQLNotes/Queries" class="nav-list-link">Queries</a><li class="nav-list-item"><a href="/SQLNotes/SQLCheatSheet" class="nav-list-link">SQLCheatSheet</a><li class="nav-list-item"><a href="/SQLNotes/TerminalCommands" class="nav-list-link">Terminal-Commands</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in SpringNotes category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/SpringNotes/" class="nav-list-link">SpringNotes</a><ul class="nav-list"><li class="nav-list-item"><a href="/SpringNotes/Annotations" class="nav-list-link">Annotations</a><li class="nav-list-item"><a href="/SpringNotes/Hibernate" class="nav-list-link">Hibernate</a><li class="nav-list-item"><a href="/SpringNotes/Maven" class="nav-list-link">Maven</a><li class="nav-list-item"><a href="/SpringNotes/Properties" class="nav-list-link">Properties</a><li class="nav-list-item"><a href="/SpringNotes/Security" class="nav-list-link">Security</a><li class="nav-list-item"><a href="/SpringNotes/TidBits" class="nav-list-link">TidBits</a><li class="nav-list-item"><a href="/SpringNotes/Transactions" class="nav-list-link">Transactions</a></ul><li class="nav-list-item"><a href="/SystemDesign&Architecture/" class="nav-list-link">SystemDesign&Architecture</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in TestingFrameworks category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/TestingFrameworks/" class="nav-list-link">TestingFrameworks</a><ul class="nav-list"><li class="nav-list-item"><a href="/TestingFrameworks/JUnit" class="nav-list-link">JUnit</a><li class="nav-list-item"><a href="/TestingFrameworks/JavascriptTesting" class="nav-list-link">Javascript</a><li class="nav-list-item"><a href="/TestingFrameworks/Spock" class="nav-list-link">Spock</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Windows_Notes category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Windows_Notes/" class="nav-list-link">Windows_Notes</a><ul class="nav-list"><li class="nav-list-item"><a href="/Windows_Notes/CMD" class="nav-list-link">CMD</a><li class="nav-list-item"><a href="/Windows_Notes/Environment" class="nav-list-link">Environment</a><li class="nav-list-item"><a href="/Windows_Notes/PackageManagers" class="nav-list-link">PackageManagers</a><li class="nav-list-item"><a href="/Windows_Notes/Powershell" class="nav-list-link">Powershell</a><li class="nav-list-item"><a href="/Windows_Notes/Run" class="nav-list-link">Run</a><li class="nav-list-item"><a href="/Windows_Notes/Shortcuts" class="nav-list-link">Shortcuts</a><li class="nav-list-item"><a href="/Windows_Notes/Terminal" class="nav-list-link">Terminal</a><li class="nav-list-item"><a href="/Windows_Notes/WSL" class="nav-list-link">WSL</a><li class="nav-list-item"><a href="/Windows_Notes/WindowsServer" class="nav-list-link">WindowsServer</a></ul></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search" role="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Paxton's Notes" aria-label="Search Paxton's Notes" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="https://github.com/14paxton/14paxton.github.io" class="site-button" target="_blank" rel="noopener noreferrer" > Template Repository </a></ul></nav></div><div class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="/TestingFrameworks/">TestingFrameworks</a><li class="breadcrumb-nav-list-item"><span>Spock</span></ol></nav><div id="main-content" class="main-content"><main><p><br /></p><details> <summary class="text-delta"> Table of contents </summary><ol id="markdown-toc"><li><a href="#config" id="markdown-toc-config">Config</a><ol><li><a href="#gradle" id="markdown-toc-gradle">Gradle</a><ol><li><a href="#setup-for-both-spock-and-junit" id="markdown-toc-setup-for-both-spock-and-junit">setup for both spock and junit</a></ol><li><a href="#use-db-in-memory-to-run-tests" id="markdown-toc-use-db-in-memory-to-run-tests">Use db in memory to run tests</a><li><a href="#maven" id="markdown-toc-maven">Maven</a><ol><li><a href="#cli" id="markdown-toc-cli">CLI</a><ol><li><a href="#run-all-the-unit-test-classes" id="markdown-toc-run-all-the-unit-test-classes">Run all the unit test classes.</a><li><a href="#run-a-single-test-class" id="markdown-toc-run-a-single-test-class">Run a single test class.</a><li><a href="#run-multiple-test-classes" id="markdown-toc-run-multiple-test-classes">Run multiple test classes.</a><li><a href="#run-a-single-test-method-from-a-test-class" id="markdown-toc-run-a-single-test-method-from-a-test-class">Run a single test method from a test class.</a><li><a href="#run-all-test-methods-that-match-pattern-testhello-from-a-test-class" id="markdown-toc-run-all-test-methods-that-match-pattern-testhello-from-a-test-class">Run all test methods that match pattern ‘testHello*’ from a test class.</a><li><a href="#run-all-test-methods-match-pattern-testhello-and-testmagic-from-a-test-class" id="markdown-toc-run-all-test-methods-match-pattern-testhello-and-testmagic-from-a-test-class">Run all test methods match pattern ‘testHello<em>’ and ‘testMagic</em>’ from a test class.</a><li><a href="#run-a-single-test" id="markdown-toc-run-a-single-test">Run a single test:</a></ol><li><a href="#dependencies" id="markdown-toc-dependencies">Dependencies</a><ol><li><a href="#search-for-dependencies-in-your-project" id="markdown-toc-search-for-dependencies-in-your-project">Search for dependencies in your project</a><li><a href="#check-whether-or-not-you-have-specific-dependencies-in-your-project" id="markdown-toc-check-whether-or-not-you-have-specific-dependencies-in-your-project">Check whether or not you have specific dependencies in your project</a><li><a href="#get-a-single-dependency" id="markdown-toc-get-a-single-dependency">Get a single dependency</a></ol><li><a href="#local-repository" id="markdown-toc-local-repository">Local repository</a><ol><li><a href="#install-a-3rd-party-jar-file-into-your-local-maven-repository" id="markdown-toc-install-a-3rd-party-jar-file-into-your-local-maven-repository">Install a (3rd party) jar file into your local Maven repository</a><ol><li><a href="#where" id="markdown-toc-where">Where:</a></ol></ol><li><a href="#pom-for-running-both-spock-and-junit" id="markdown-toc-pom-for-running-both-spock-and-junit">Pom for running both spock and junit</a></ol></ol><li><a href="#testing" id="markdown-toc-testing">Testing</a><ol><li><a href="#test-controller" id="markdown-toc-test-controller">Test Controller</a><li><a href="#testing-secured-app" id="markdown-toc-testing-secured-app">Testing Secured app</a><ol><li><a href="#with-geb" id="markdown-toc-with-geb">with GEB</a></ol><li><a href="#mocking-service-and-then-method-call-setting-dummy-data-for-the-returnput-in-test-method" id="markdown-toc-mocking-service-and-then-method-call-setting-dummy-data-for-the-returnput-in-test-method">Mocking service and then method call, setting dummy data for the return(put in test method)</a><li><a href="#mocking-service-used-in-a-service-you-are-testingput-at-beginning-of-the-test-class" id="markdown-toc-mocking-service-used-in-a-service-you-are-testingput-at-beginning-of-the-test-class">Mocking Service used in a service you are testing(put at beginning of the test class)</a><li><a href="#mocking-method-in-service-you-are-testing" id="markdown-toc-mocking-method-in-service-you-are-testing">Mocking Method in service you are testing</a><li><a href="#testing-a-webpage-with-spock-and-geb" id="markdown-toc-testing-a-webpage-with-spock-and-geb">Testing a webpage with spock and geb</a><li><a href="#mocking-method-in-domain" id="markdown-toc-mocking-method-in-domain">Mocking method in domain</a><li><a href="#checking-validity-of-constraints" id="markdown-toc-checking-validity-of-constraints">Checking validity of constraints</a><li><a href="#check-if-method-was-called-for-another-service" id="markdown-toc-check-if-method-was-called-for-another-service">check if method was called for another service</a><li><a href="#check-if-method-was-called-for-same-service" id="markdown-toc-check-if-method-was-called-for-same-service">check if method was called for same service</a><li><a href="#create-an-exception" id="markdown-toc-create-an-exception">create an exception</a><li><a href="#catch-exception" id="markdown-toc-catch-exception">catch exception</a><li><a href="#modify-config-duringfor-test" id="markdown-toc-modify-config-duringfor-test">modify config during/for test</a><li><a href="#create-a-custom-manager-for-a-test" id="markdown-toc-create-a-custom-manager-for-a-test">create a custom manager for a test</a><li><a href="#mocking-hibernate-used-to-test-methods-using-where-queriers--detached-criteria--criteria-builder" id="markdown-toc-mocking-hibernate-used-to-test-methods-using-where-queriers--detached-criteria--criteria-builder">Mocking hibernate used to test methods using where queriers / detached criteria / criteria builder</a><li><a href="#mock-return-value-for-service-method-used-in-the-service-you-are-testing" id="markdown-toc-mock-return-value-for-service-method-used-in-the-service-you-are-testing">Mock return value for service method used in the service you are testing</a><li><a href="#mock-a-static-method-call-from-a-domain" id="markdown-toc-mock-a-static-method-call-from-a-domain">Mock a static method call from a domain</a><ol><li><a href="#grails3" id="markdown-toc-grails3">Grails3</a><li><a href="#grails4" id="markdown-toc-grails4">Grails4</a><ol><li><a href="#ex-integrations-test-for-controller" id="markdown-toc-ex-integrations-test-for-controller">Ex. Integrations test for controller</a></ol></ol></ol><li><a href="#buildtest-plugin" id="markdown-toc-buildtest-plugin">BuildTest plugin</a><ol><li><a href="#snippet-from-spock-test" id="markdown-toc-snippet-from-spock-test">Snippet from spock test</a><li><a href="#different-ways-to-build" id="markdown-toc-different-ways-to-build">Different ways to build</a></ol></ol></details><p><br /> <br /> *** <br /> <br /></p><h1 id="config"> <a href="#config" class="anchor-heading" aria-labelledby="config"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Config</h1><h2 id="gradle"> <a href="#gradle" class="anchor-heading" aria-labelledby="gradle"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Gradle</h2><h3 id="setup-for-both-spock-and-junit"> <a href="#setup-for-both-spock-and-junit" class="anchor-heading" aria-labelledby="setup-for-both-spock-and-junit"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a href="https://github.com/14paxton/TestingFrameworks/tree/master/Spock/RunSpockJUnitConcurrently">setup for both spock and junit</a></h3><h2 id="use-db-in-memory-to-run-tests"> <a href="#use-db-in-memory-to-run-tests" class="anchor-heading" aria-labelledby="use-db-in-memory-to-run-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Use db in memory to run tests</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nd">@shared</span> <span class="n">Sql</span> <span class="n">sql</span> <span class="o">=</span> <span class="n">Sql</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="err">“</span> <span class="nl">jdbc:</span> <span class="n">h2</span> <span class="o">:</span> <span class="nl">mem:</span> <span class="err">”</span><span class="o">,</span> <span class="err">“</span> <span class="n">org</span><span class="o">.</span><span class="na">h2</span><span class="o">.</span><span class="na">Driver</span> <span class="err">”</span><span class="o">)</span>

</code></pre></div></div><h2 id="maven"> <a href="#maven" class="anchor-heading" aria-labelledby="maven"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Maven</h2><h3 id="cli"> <a href="#cli" class="anchor-heading" aria-labelledby="cli"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> CLI</h3><h4 id="run-all-the-unit-test-classes"> <a href="#run-all-the-unit-test-classes" class="anchor-heading" aria-labelledby="run-all-the-unit-test-classes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Run all the unit test classes.</h4><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn <span class="nb">test</span>    
</code></pre></div></div><h4 id="run-a-single-test-class"> <a href="#run-a-single-test-class" class="anchor-heading" aria-labelledby="run-a-single-test-class"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Run a single test class.</h4><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn <span class="nt">-Dtest</span><span class="o">=</span>TestApp1 <span class="nb">test</span>    
</code></pre></div></div><h4 id="run-multiple-test-classes"> <a href="#run-multiple-test-classes" class="anchor-heading" aria-labelledby="run-multiple-test-classes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Run multiple test classes.</h4><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn <span class="nt">-Dtest</span><span class="o">=</span>TestApp1,TestApp2 <span class="nb">test</span>    
</code></pre></div></div><h4 id="run-a-single-test-method-from-a-test-class"> <a href="#run-a-single-test-method-from-a-test-class" class="anchor-heading" aria-labelledby="run-a-single-test-method-from-a-test-class"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Run a single test method from a test class.</h4><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn <span class="nt">-Dtest</span><span class="o">=</span>TestApp1#methodname <span class="nb">test</span>    
</code></pre></div></div><h4 id="run-all-test-methods-that-match-pattern-testhello-from-a-test-class"> <a href="#run-all-test-methods-that-match-pattern-testhello-from-a-test-class" class="anchor-heading" aria-labelledby="run-all-test-methods-that-match-pattern-testhello-from-a-test-class"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Run all test methods that match pattern ‘testHello*’ from a test class.</h4><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn <span class="nt">-Dtest</span><span class="o">=</span>TestApp1#testHello<span class="k">*</span> <span class="nb">test</span>    
</code></pre></div></div><h4 id="run-all-test-methods-match-pattern-testhello-and-testmagic-from-a-test-class"> <a href="#run-all-test-methods-match-pattern-testhello-and-testmagic-from-a-test-class" class="anchor-heading" aria-labelledby="run-all-test-methods-match-pattern-testhello-and-testmagic-from-a-test-class"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Run all test methods match pattern ‘testHello<em>’ and ‘testMagic</em>’ from a test class.</h4><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn <span class="nt">-Dtest</span><span class="o">=</span>TestApp1#testHello<span class="k">*</span>+testMagic<span class="k">*</span> <span class="nb">test</span>    
</code></pre></div></div><hr /><ul><li>Don’t run tests:</ul><blockquote><p>Note: the test classes in the project will be compiled!</p></blockquote><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn clean package <span class="nt">-DskipTests</span>    
</code></pre></div></div><ul><li>Don’t compile and don’t run the tests:</ul><blockquote><p>maven.test.skip is honored by the Surefire, Failsafe and the Compiler Plugin</p></blockquote><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>maven clean package <span class="nt">-Dmaven</span>.test.skip<span class="o">=</span><span class="nb">true</span>    
</code></pre></div></div><h4 id="run-a-single-test"> <a href="#run-a-single-test" class="anchor-heading" aria-labelledby="run-a-single-test"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Run a single test:</h4><blockquote><p>Sometimes you would like to execute a single test instead of all your tests.</p></blockquote><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn <span class="nb">test</span> <span class="nt">-Dtest</span><span class="o">=</span><span class="s2">"NameOfYourTest"</span>    
Run build offline    
</code></pre></div></div><div style="padding: 15px; border: 1px solid transparent; border-color: transparent; margin-bottom: 20px; border-radius: 4px; color: #31708f; background-color: #d9edf7; border-color: #bce8f1;"> Both -o and --offline are equivalent. Your local Maven repository will is used to resolve dependencies. No connection to the internet is made to download dependencies. Your build will fail in case dependencies are not found in your local repository!</div><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn clean package <span class="nt">-o</span>    
</code></pre></div></div><h3 id="dependencies"> <a href="#dependencies" class="anchor-heading" aria-labelledby="dependencies"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Dependencies</h3><h4 id="search-for-dependencies-in-your-project"> <a href="#search-for-dependencies-in-your-project" class="anchor-heading" aria-labelledby="search-for-dependencies-in-your-project"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Search for dependencies in your project</h4><blockquote><p>List all the dependencies</p></blockquote><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn dependency:list    
</code></pre></div></div><h4 id="check-whether-or-not-you-have-specific-dependencies-in-your-project"> <a href="#check-whether-or-not-you-have-specific-dependencies-in-your-project" class="anchor-heading" aria-labelledby="check-whether-or-not-you-have-specific-dependencies-in-your-project"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Check whether or not you have specific dependencies in your project</h4><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn dependency:list | <span class="nb">grep </span>log4j    
</code></pre></div></div><h4 id="get-a-single-dependency"> <a href="#get-a-single-dependency" class="anchor-heading" aria-labelledby="get-a-single-dependency"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Get a single dependency</h4><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn dependency:get <span class="nt">-Dartifact</span><span class="o">=</span>org.springframework:spring-core:5.3.15    
</code></pre></div></div><h3 id="local-repository"> <a href="#local-repository" class="anchor-heading" aria-labelledby="local-repository"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Local repository</h3><p>The default location of your local repo is <code class="language-plaintext highlighter-rouge">~/.m2</code></p><h4 id="install-a-3rd-party-jar-file-into-your-local-maven-repository"> <a href="#install-a-3rd-party-jar-file-into-your-local-maven-repository" class="anchor-heading" aria-labelledby="install-a-3rd-party-jar-file-into-your-local-maven-repository"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Install a (3rd party) jar file into your local Maven repository</h4><blockquote><p>since it doesn’t exist in any public repository like <a href="http://search.maven.org/">Maven Central</a>.</p></blockquote><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn <span class="nb">install</span>:install-file    
<span class="nt">-Dfile</span><span class="o">=</span>&lt;path-to-file&gt;    
<span class="nt">-DgroupId</span><span class="o">=</span>&lt;group-id&gt;    
<span class="nt">-DartifactId</span><span class="o">=</span>&lt;artifact-id&gt;    
<span class="nt">-Dversion</span><span class="o">=</span>&lt;version&gt;    
<span class="nt">-Dpackaging</span><span class="o">=</span>&lt;packaging&gt;    
<span class="nt">-DgeneratePom</span><span class="o">=</span><span class="nb">true</span>    
</code></pre></div></div><h5 id="where"> <a href="#where" class="anchor-heading" aria-labelledby="where"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Where:</h5><p><code class="language-plaintext highlighter-rouge">&lt;path-to-file&gt;</code> : the path to the file to load</p><p><code class="language-plaintext highlighter-rouge">&lt;group-id&gt;</code> : the group that the file should be registered under</p><p><code class="language-plaintext highlighter-rouge">&lt;artifact-id&gt;</code> : the artifact name for the file</p><p><code class="language-plaintext highlighter-rouge">&lt;version&gt;</code> : the version of the file</p><p><code class="language-plaintext highlighter-rouge">&lt;packaging&gt;</code> : the packaging of the file, e.g., jar</p><blockquote><p>Example:</p></blockquote><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn <span class="nb">install</span>:install-file <span class="nt">-Dfile</span><span class="o">=</span>lang-groovy-5.2.2.jar <span class="se">\ </span>   
<span class="nt">-DgroupId</span><span class="o">=</span>org.elasticsearch.module <span class="se">\ </span>   
<span class="nt">-DartifactId</span><span class="o">=</span>lang-groovy <span class="se">\ </span>   
<span class="nt">-Dversion</span><span class="o">=</span>5.2.2 <span class="se">\ </span>   
<span class="nt">-Dpackaging</span><span class="o">=</span>jar <span class="se">\ </span>   
<span class="nt">-DgeneratePom</span><span class="o">=</span><span class="nb">true</span>    
    
</code></pre></div></div><hr /><h3 id="pom-for-running-both-spock-and-junit"> <a href="#pom-for-running-both-spock-and-junit" class="anchor-heading" aria-labelledby="pom-for-running-both-spock-and-junit"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pom for running both spock and junit</h3><ul><li><a href="https://github.com/SanderSmee/spock-jupiter/blob/master/pom.xml">Code For Reference </a></ul><details> <summary>XML Pom</summary> ```xml <build> <build> <defaultGoal>verify</defaultGoal><plugins><plugin> <groupId>org.apache.maven.plugins</groupId> <artifactId>maven-compiler-plugin</artifactId> <version>3.10.1</version> </plugin><plugin> <groupId>org.codehaus.gmavenplus</groupId> <artifactId>gmavenplus-plugin</artifactId> <version>3.0.0</version> <executions> <execution> <goals> <goal>compile</goal> <goal>compileTests</goal> </goals> </execution> </executions> <configuration> <invokeDynamic>true</invokeDynamic> </configuration> </plugin><plugin> <groupId>org.apache.maven.plugins</groupId> <artifactId>maven-surefire-plugin</artifactId> <version>3.0.0-M7</version> <dependencies> <dependency> <groupId>org.junit.jupiter</groupId> <artifactId>junit-jupiter-engine</artifactId> <version>5.9.3</version> </dependency> <dependency> <groupId>org.junit.vintage</groupId> <artifactId>junit-vintage-engine</artifactId> <version>5.9.3</version> </dependency> </dependencies> <configuration> <detail>true</detail> <includes> <include>%regex[.*]</include> </includes> </configuration> </plugin><plugin> <artifactId>maven-failsafe-plugin</artifactId> <version>3.0.0-M7</version> </plugin><plugin> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-maven-plugin</artifactId> </plugin> </plugins> </build> <repositories> <repository> <id>gitlab-maven</id> <url>https://gitlab.guardianportal.us/api/v4/groups/5/-/packages/maven</url> </repository> </repositories> <dependencyManagement> <dependencies> <dependency> <groupId>org.spockframework</groupId> <artifactId>spock-bom</artifactId> <version>2.1-groovy-3.0</version> <type>pom</type> <scope>import</scope> </dependency> <dependency> <groupId>org.junit</groupId> <artifactId>junit-bom</artifactId> <version>5.9.3</version> <type>pom</type> <scope>import</scope> </dependency> </dependencies> </dependencyManagement> <dependencies> <dependency> <groupId>org.spockframework</groupId> <artifactId>spock-core</artifactId> <scope>test</scope> </dependency> <dependency> <groupId>org.apache.groovy</groupId> <artifactId>groovy</artifactId> <version>4.0.6</version> </dependency> <dependency> <groupId>org.apache.groovy</groupId> <artifactId>groovy-sql</artifactId> <version>4.0.13</version> </dependency> <dependency> <groupId>net.bytebuddy</groupId> <artifactId>byte-buddy</artifactId> <version>1.12.17</version> <scope>test</scope> </dependency> <dependency> <groupId>org.objenesis</groupId> <artifactId>objenesis</artifactId> <version>3.3</version> <scope>test</scope> </dependency> <dependency> <groupId>org.junit.jupiter</groupId> <artifactId>junit-jupiter</artifactId> <version>5.9.3</version> <scope>test</scope> </dependency> <dependency> <groupId>org.junit.jupiter</groupId> <artifactId>junit-jupiter-api</artifactId> <version>5.9.3</version> <scope>test</scope> </dependency> <dependency> <groupId>org.junit.jupiter</groupId> <artifactId>junit-jupiter-engine</artifactId> <version>5.9.3</version> <scope>test</scope> </dependency> <dependency> <groupId>org.junit.platform</groupId> <artifactId>junit-platform-launcher</artifactId> <version>1.9.3</version> <scope>test</scope> </dependency> <dependency> <groupId>org.junit.platform</groupId> <artifactId>junit-platform-engine</artifactId> </dependency> </dependencies> </build> ``` </details><hr /><h1 id="testing"> <a href="#testing" class="anchor-heading" aria-labelledby="testing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Testing</h1><h2 id="test-controller"> <a href="#test-controller" class="anchor-heading" aria-labelledby="test-controller"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Test Controller</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">grails.testing.web.controllers.ControllerUnitTest</span>
<span class="kn">import</span> <span class="nn">spock.lang.Specification</span>

<span class="kd">class</span> <span class="nc">StudentControllerSpec</span> <span class="kd">extends</span> <span class="n">Specification</span> <span class="kd">implements</span> <span class="n">ControllerUnitTest</span><span class="o">&lt;</span><span class="n">StudentController</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kt">def</span> <span class="s1">'Test the index action returns the correct model'</span><span class="o">()</span> <span class="o">{</span>
        <span class="nl">given:</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Student</span><span class="o">&gt;</span> <span class="n">sampleStudents</span> <span class="o">=</span> <span class="o">[</span><span class="k">new</span> <span class="n">Student</span><span class="o">(</span><span class="nl">name:</span> <span class="s1">'Nirav'</span><span class="o">,</span> <span class="nl">grade:</span> <span class="mi">100</span><span class="o">),</span>
                                        <span class="k">new</span> <span class="nf">Student</span><span class="o">(</span><span class="nl">name:</span> <span class="s1">'Jeff'</span><span class="o">,</span> <span class="nl">grade:</span> <span class="mi">95</span><span class="o">),</span>
                                        <span class="k">new</span> <span class="nf">Student</span><span class="o">(</span><span class="nl">name:</span> <span class="s1">'Sergio'</span><span class="o">,</span> <span class="nl">grade:</span> <span class="mi">90</span><span class="o">),]</span>
        <span class="n">controller</span><span class="o">.</span><span class="na">studentService</span> <span class="o">=</span> <span class="n">Stub</span><span class="o">(</span><span class="n">StudentService</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">list</span><span class="o">(</span><span class="n">_</span><span class="o">)</span> <span class="o">&gt;&gt;</span> <span class="n">sampleStudents</span>
            <span class="n">count</span><span class="o">()</span> <span class="o">&gt;&gt;</span> <span class="n">sampleStudents</span><span class="o">.</span><span class="na">size</span><span class="o">()</span>
        <span class="o">}</span>

        <span class="nl">when:</span> <span class="s1">'The index action is executed'</span>
        <span class="n">controller</span><span class="o">.</span><span class="na">index</span><span class="o">()</span>

        <span class="nl">then:</span> <span class="s1">'The model is correct'</span>
        <span class="n">model</span><span class="o">.</span><span class="na">studentList</span>
        <span class="n">model</span><span class="o">.</span><span class="na">studentList</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="n">sampleStudents</span><span class="o">.</span><span class="na">size</span><span class="o">()</span>
        <span class="n">model</span><span class="o">.</span><span class="na">studentList</span><span class="o">.</span><span class="na">find</span> <span class="o">{</span> <span class="n">it</span><span class="o">.</span><span class="na">name</span> <span class="o">==</span> <span class="s1">'Nirav'</span> <span class="o">&amp;&amp;</span> <span class="n">it</span><span class="o">.</span><span class="na">grade</span> <span class="o">==</span> <span class="mi">100</span> <span class="o">}</span>
        <span class="n">model</span><span class="o">.</span><span class="na">studentList</span><span class="o">.</span><span class="na">find</span> <span class="o">{</span> <span class="n">it</span><span class="o">.</span><span class="na">name</span> <span class="o">==</span> <span class="s1">'Jeff'</span> <span class="o">&amp;&amp;</span> <span class="n">it</span><span class="o">.</span><span class="na">grade</span> <span class="o">==</span> <span class="mi">95</span> <span class="o">}</span>
        <span class="n">model</span><span class="o">.</span><span class="na">studentList</span><span class="o">.</span><span class="na">find</span> <span class="o">{</span> <span class="n">it</span><span class="o">.</span><span class="na">name</span> <span class="o">==</span> <span class="s1">'Sergio'</span> <span class="o">&amp;&amp;</span> <span class="n">it</span><span class="o">.</span><span class="na">grade</span> <span class="o">==</span> <span class="mi">90</span> <span class="o">}</span>
        <span class="n">model</span><span class="o">.</span><span class="na">studentCount</span> <span class="o">==</span> <span class="n">sampleStudents</span><span class="o">.</span><span class="na">size</span><span class="o">()</span>
    <span class="o">}</span>
<span class="o">}</span>    
</code></pre></div></div><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">StudentControllerSpec</span> <span class="kd">extends</span> <span class="n">Specification</span> <span class="kd">implements</span> <span class="n">ControllerUnitTest</span><span class="o">&lt;</span><span class="n">StudentController</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="kt">def</span> <span class="s1">'If you save without supplying name and grade(both required) you remain in the create form'</span><span class="o">()</span> <span class="o">{</span>

        <span class="nl">when:</span>
        <span class="n">request</span><span class="o">.</span><span class="na">contentType</span> <span class="o">=</span> <span class="n">FORM_CONTENT_TYPE</span>
        <span class="n">request</span><span class="o">.</span><span class="na">method</span> <span class="o">=</span> <span class="s1">'POST'</span>
        <span class="n">controller</span><span class="o">.</span><span class="na">save</span><span class="o">()</span>

        <span class="nl">then:</span>
        <span class="n">model</span><span class="o">.</span><span class="na">student</span>
        <span class="n">view</span> <span class="o">==</span> <span class="s1">'create'</span>
    <span class="o">}</span>

<span class="o">}</span>    
</code></pre></div></div><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">grails.testing.web.controllers.ControllerUnitTest</span>
<span class="kn">import</span> <span class="nn">spock.lang.Specification</span>


<span class="kd">class</span> <span class="nc">StudentControllerSpec</span> <span class="kd">extends</span> <span class="n">Specification</span> <span class="kd">implements</span> <span class="n">ControllerUnitTest</span><span class="o">&lt;</span><span class="n">StudentController</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="kt">def</span> <span class="s1">'if the users supplies both name and grade, save is successful '</span><span class="o">()</span> <span class="o">{</span>
        <span class="nl">given:</span>
        <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'Nirav'</span>
        <span class="n">BigDecimal</span> <span class="n">grade</span> <span class="o">=</span> <span class="mi">100</span>
        <span class="n">Long</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">1L</span>
        <span class="n">controller</span><span class="o">.</span><span class="na">studentService</span> <span class="o">=</span> <span class="n">Stub</span><span class="o">(</span><span class="n">StudentService</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">save</span><span class="o">(</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">)</span> <span class="o">&gt;&gt;</span> <span class="k">new</span> <span class="n">Student</span><span class="o">(</span><span class="nl">name:</span> <span class="n">name</span><span class="o">,</span> <span class="nl">grade:</span> <span class="n">grade</span><span class="o">,</span> <span class="nl">id:</span> <span class="n">id</span><span class="o">)</span>
            <span class="n">read</span><span class="o">(</span><span class="n">_</span><span class="o">)</span> <span class="o">&gt;&gt;</span> <span class="k">new</span> <span class="n">Student</span><span class="o">(</span><span class="nl">name:</span> <span class="n">name</span><span class="o">,</span> <span class="nl">grade:</span> <span class="n">grade</span><span class="o">,</span> <span class="nl">id:</span> <span class="n">id</span><span class="o">)</span>
        <span class="o">}</span>
        <span class="nl">when:</span>
        <span class="n">request</span><span class="o">.</span><span class="na">method</span> <span class="o">=</span> <span class="s1">'POST'</span>
        <span class="n">request</span><span class="o">.</span><span class="na">contentType</span> <span class="o">=</span> <span class="n">FORM_CONTENT_TYPE</span>
        <span class="n">params</span><span class="o">[</span><span class="s1">'name'</span><span class="o">]</span> <span class="o">=</span> <span class="n">name</span>
        <span class="n">params</span><span class="o">[</span><span class="s1">'grade'</span><span class="o">]</span> <span class="o">=</span> <span class="n">grade</span>
        <span class="n">controller</span><span class="o">.</span><span class="na">save</span><span class="o">()</span>

        <span class="nl">then:</span> <span class="s1">'a message indicating that the user has been saved is placed'</span>
        <span class="n">flash</span><span class="o">.</span><span class="na">message</span>

        <span class="nl">and:</span> <span class="s1">'the user is redirected to show the student'</span>
        <span class="n">response</span><span class="o">.</span><span class="na">redirectedUrl</span><span class="o">.</span><span class="na">startsWith</span><span class="o">(</span><span class="s1">'/student/show'</span><span class="o">)</span>

        <span class="nl">and:</span> <span class="s1">'a found response code is used'</span>
        <span class="n">response</span><span class="o">.</span><span class="na">status</span> <span class="o">==</span> <span class="mi">302</span>
    <span class="o">}</span>

<span class="o">}</span>    
</code></pre></div></div><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">grails.testing.web.controllers.ControllerUnitTest</span>
<span class="kn">import</span> <span class="nn">spock.lang.Specification</span>


<span class="kd">class</span> <span class="nc">StudentControllerSpec</span> <span class="kd">extends</span> <span class="n">Specification</span> <span class="kd">implements</span> <span class="n">ControllerUnitTest</span><span class="o">&lt;</span><span class="n">StudentController</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="kt">void</span> <span class="s1">'JSON payload is bound to the command object. If the student is saved, a 201 is returned'</span><span class="o">()</span> <span class="o">{</span>
        <span class="nl">given:</span>
        <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">'Nirav'</span>
        <span class="n">BigDecimal</span> <span class="n">grade</span> <span class="o">=</span> <span class="mi">100</span>
        <span class="n">Long</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">1L</span>
        <span class="n">controller</span><span class="o">.</span><span class="na">studentService</span> <span class="o">=</span> <span class="n">Stub</span><span class="o">(</span><span class="n">StudentService</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">save</span><span class="o">(</span><span class="n">_</span><span class="o">,</span> <span class="n">_</span><span class="o">)</span> <span class="o">&gt;&gt;</span> <span class="k">new</span> <span class="n">Student</span><span class="o">(</span><span class="nl">name:</span> <span class="n">name</span><span class="o">,</span> <span class="nl">grade:</span> <span class="n">grade</span><span class="o">,</span> <span class="nl">id:</span> <span class="n">id</span><span class="o">)</span>
        <span class="o">}</span>

        <span class="nl">when:</span> <span class="s1">'json request is sent with domain conversion'</span>
        <span class="n">request</span><span class="o">.</span><span class="na">method</span> <span class="o">=</span> <span class="s1">'POST'</span>
        <span class="n">request</span><span class="o">.</span><span class="na">json</span> <span class="o">=</span> <span class="s1">'{"name":"'</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s1">'","grade":'</span> <span class="o">+</span> <span class="n">grade</span> <span class="o">+</span> <span class="s1">'}'</span>
        <span class="n">controller</span><span class="o">.</span><span class="na">save</span><span class="o">()</span>

        <span class="nl">then:</span> <span class="s1">'CREATED status code is set'</span>
        <span class="n">response</span><span class="o">.</span><span class="na">status</span> <span class="o">==</span> <span class="mi">201</span>
    <span class="o">}</span>

<span class="o">}</span>    
</code></pre></div></div><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">static</span> <span class="n">javax</span><span class="o">.</span><span class="na">servlet</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">HttpServletResponse</span><span class="o">.</span><span class="na">SC_METHOD_NOT_ALLOWED</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">javax</span><span class="o">.</span><span class="na">servlet</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">HttpServletResponse</span><span class="o">.</span><span class="na">SC_OK</span>
<span class="kn">import</span> <span class="nn">grails.testing.web.controllers.ControllerUnitTest</span>
<span class="kn">import</span> <span class="nn">spock.lang.Specification</span>
<span class="kn">import</span> <span class="nn">spock.lang.Unroll</span>

<span class="nd">@SuppressWarnings</span><span class="o">([</span><span class="s1">'JUnitPublicNonTestMethod'</span><span class="o">,</span> <span class="s1">'JUnitPublicProperty'</span><span class="o">])</span>
<span class="kd">class</span> <span class="nc">StudentControllerAllowedMethodsSpec</span> <span class="kd">extends</span> <span class="n">Specification</span> <span class="kd">implements</span> <span class="n">ControllerUnitTest</span><span class="o">&lt;</span><span class="n">StudentController</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="nd">@Unroll</span>
    <span class="kt">def</span> <span class="s2">"StudentController.save does not accept #method requests"</span><span class="o">(</span><span class="n">String</span> <span class="n">method</span><span class="o">)</span> <span class="o">{</span>
        <span class="nl">when:</span>
        <span class="n">request</span><span class="o">.</span><span class="na">method</span> <span class="o">=</span> <span class="n">method</span>
        <span class="n">controller</span><span class="o">.</span><span class="na">save</span><span class="o">()</span>

        <span class="nl">then:</span>
        <span class="n">response</span><span class="o">.</span><span class="na">status</span> <span class="o">==</span> <span class="n">SC_METHOD_NOT_ALLOWED</span>

        <span class="nl">where:</span>
        <span class="n">method</span> <span class="o">&lt;&lt;</span> <span class="o">[</span><span class="s1">'PATCH'</span><span class="o">,</span> <span class="s1">'DELETE'</span><span class="o">,</span> <span class="s1">'GET'</span><span class="o">,</span> <span class="s1">'PUT'</span><span class="o">]</span>
    <span class="o">}</span>

    <span class="kt">def</span> <span class="s2">"StudentController.save accepts POST requests"</span><span class="o">()</span> <span class="o">{</span>
        <span class="nl">when:</span>
        <span class="n">request</span><span class="o">.</span><span class="na">method</span> <span class="o">=</span> <span class="s1">'POST'</span>
        <span class="n">controller</span><span class="o">.</span><span class="na">save</span><span class="o">()</span>

        <span class="nl">then:</span>
        <span class="n">response</span><span class="o">.</span><span class="na">status</span> <span class="o">==</span> <span class="n">SC_OK</span>
    <span class="o">}</span>
<span class="o">}</span>    
</code></pre></div></div><blockquote><p>functional test</p></blockquote><ul><li>build.gradle</ul><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dependencies</span> <span class="o">{</span>
    <span class="o">...</span>
    <span class="n">testImplementation</span> <span class="s2">"io.micronaut:micronaut-http-client"</span>
<span class="o">}</span>    
</code></pre></div></div><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">grails.testing.mixin.integration.Integration</span>
<span class="kn">import</span> <span class="nn">grails.testing.spock.OnceBefore</span>
<span class="kn">import</span> <span class="nn">io.micronaut.core.type.Argument</span>
<span class="kn">import</span> <span class="nn">io.micronaut.http.HttpRequest</span>
<span class="kn">import</span> <span class="nn">io.micronaut.http.HttpResponse</span>
<span class="kn">import</span> <span class="nn">io.micronaut.http.HttpStatus</span>
<span class="kn">import</span> <span class="nn">io.micronaut.http.client.HttpClient</span>
<span class="kn">import</span> <span class="nn">spock.lang.Shared</span>
<span class="kn">import</span> <span class="nn">spock.lang.Specification</span>

<span class="nd">@SuppressWarnings</span><span class="o">([</span><span class="s1">'JUnitPublicNonTestMethod'</span><span class="o">,</span> <span class="s1">'JUnitPublicProperty'</span><span class="o">])</span>
<span class="nd">@Integration</span>
<span class="kd">class</span> <span class="nc">StudentControllerIntSpec</span> <span class="kd">extends</span> <span class="n">Specification</span> <span class="o">{</span>

    <span class="nd">@Shared</span>
    <span class="n">HttpClient</span> <span class="n">client</span>

    <span class="n">StudentService</span> <span class="n">studentService</span>

    <span class="nd">@OnceBefore</span>
    <span class="kt">void</span> <span class="nf">init</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">baseUrl</span> <span class="o">=</span> <span class="s2">"http://localhost:$serverPort"</span>
        <span class="k">this</span><span class="o">.</span><span class="na">client</span> <span class="o">=</span> <span class="n">HttpClient</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">baseUrl</span><span class="o">.</span><span class="na">toURL</span><span class="o">())</span>
    <span class="o">}</span>

    <span class="kt">def</span> <span class="s1">'test json in URI to return students'</span><span class="o">()</span> <span class="o">{</span>
        <span class="nl">given:</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Serializable</span><span class="o">&gt;</span> <span class="n">ids</span> <span class="o">=</span> <span class="o">[]</span>
        <span class="n">Student</span><span class="o">.</span><span class="na">withNewTransaction</span> <span class="o">{</span>
            <span class="n">ids</span> <span class="o">&lt;&lt;</span> <span class="n">studentService</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="s1">'Nirav'</span><span class="o">,</span> <span class="mi">100</span> <span class="k">as</span> <span class="n">BigDecimal</span><span class="o">).</span><span class="na">id</span>
            <span class="n">ids</span> <span class="o">&lt;&lt;</span> <span class="n">studentService</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="s1">'Jeff'</span><span class="o">,</span> <span class="mi">95</span> <span class="k">as</span> <span class="n">BigDecimal</span><span class="o">).</span><span class="na">id</span>
            <span class="n">ids</span> <span class="o">&lt;&lt;</span> <span class="n">studentService</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="s1">'Sergio'</span><span class="o">,</span> <span class="mi">90</span> <span class="k">as</span> <span class="n">BigDecimal</span><span class="o">).</span><span class="na">id</span>
        <span class="o">}</span>

        <span class="nl">expect:</span>
        <span class="n">studentService</span><span class="o">.</span><span class="na">count</span><span class="o">()</span> <span class="o">==</span> <span class="mi">3</span>

        <span class="nl">when:</span>
        <span class="n">HttpRequest</span> <span class="n">request</span> <span class="o">=</span> <span class="n">HttpRequest</span><span class="o">.</span><span class="na">GET</span><span class="o">(</span><span class="s1">'/student.json'</span><span class="o">)</span>
        <span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&gt;&gt;</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">toBlocking</span><span class="o">().</span><span class="na">exchange</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">Argument</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">List</span><span class="o">,</span> <span class="n">Map</span><span class="o">))</span>

        <span class="nl">then:</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">status</span> <span class="o">==</span> <span class="n">HttpStatus</span><span class="o">.</span><span class="na">OK</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">body</span><span class="o">()</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">body</span><span class="o">().</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">3</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">body</span><span class="o">().</span><span class="na">find</span> <span class="o">{</span> <span class="n">it</span><span class="o">.</span><span class="na">grade</span> <span class="o">==</span> <span class="mi">100</span> <span class="o">&amp;&amp;</span> <span class="n">it</span><span class="o">.</span><span class="na">name</span> <span class="o">==</span> <span class="s1">'Nirav'</span> <span class="o">}</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">body</span><span class="o">().</span><span class="na">find</span> <span class="o">{</span> <span class="n">it</span><span class="o">.</span><span class="na">grade</span> <span class="o">==</span> <span class="mi">95</span> <span class="o">&amp;&amp;</span> <span class="n">it</span><span class="o">.</span><span class="na">name</span> <span class="o">==</span> <span class="s1">'Jeff'</span> <span class="o">}</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">body</span><span class="o">().</span><span class="na">find</span> <span class="o">{</span> <span class="n">it</span><span class="o">.</span><span class="na">grade</span> <span class="o">==</span> <span class="mi">90</span> <span class="o">&amp;&amp;</span> <span class="n">it</span><span class="o">.</span><span class="na">name</span> <span class="o">==</span> <span class="s1">'Sergio'</span> <span class="o">}</span>

        <span class="nl">cleanup:</span>
        <span class="n">Student</span><span class="o">.</span><span class="na">withNewTransaction</span> <span class="o">{</span>
            <span class="n">ids</span><span class="o">.</span><span class="na">each</span> <span class="o">{</span> <span class="n">id</span> <span class="o">-&gt;</span>
                <span class="n">studentService</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">id</span><span class="o">)</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>    
</code></pre></div></div><h2 id="testing-secured-app"> <a href="#testing-secured-app" class="anchor-heading" aria-labelledby="testing-secured-app"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Testing Secured app</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">grails.testing.mixin.integration.Integration</span>
<span class="kn">import</span> <span class="nn">io.micronaut.core.type.Argument</span>
<span class="kn">import</span> <span class="nn">io.micronaut.http.HttpRequest</span>
<span class="kn">import</span> <span class="nn">io.micronaut.http.HttpResponse</span>
<span class="kn">import</span> <span class="nn">io.micronaut.http.HttpStatus</span>
<span class="kn">import</span> <span class="nn">io.micronaut.http.client.HttpClient</span>
<span class="kn">import</span> <span class="nn">io.micronaut.http.client.exceptions.HttpClientException</span>
<span class="kn">import</span> <span class="nn">spock.lang.AutoCleanup</span>
<span class="kn">import</span> <span class="nn">spock.lang.Shared</span>
<span class="kn">import</span> <span class="nn">spock.lang.Specification</span>
<span class="kn">import</span> <span class="nn">grails.testing.spock.OnceBefore</span>

<span class="nd">@SuppressWarnings</span><span class="o">([</span><span class="s1">'MethodName'</span><span class="o">,</span> <span class="s1">'DuplicateNumberLiteral'</span><span class="o">,</span> <span class="s1">'Instanceof'</span><span class="o">])</span>
<span class="nd">@Integration</span>
<span class="kd">class</span> <span class="nc">ApiAnnouncementControllerSpec</span> <span class="kd">extends</span> <span class="n">Specification</span> <span class="o">{</span>

    <span class="nd">@Shared</span>
    <span class="nd">@AutoCleanup</span>
    <span class="n">HttpClient</span> <span class="n">client</span>

    <span class="nd">@OnceBefore</span>
    <span class="kt">void</span> <span class="nf">init</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">HttpClient</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="s2">"http://localhost:$serverPort"</span><span class="o">))</span>
    <span class="o">}</span>

    <span class="kt">def</span> <span class="s1">'test /api/announcements url is secured'</span><span class="o">()</span> <span class="o">{</span>
        <span class="nl">when:</span>
        <span class="n">HttpRequest</span> <span class="n">request</span> <span class="o">=</span> <span class="n">HttpRequest</span><span class="o">.</span><span class="na">GET</span><span class="o">(</span><span class="s1">'/api/announcements'</span><span class="o">)</span>
        <span class="n">client</span><span class="o">.</span><span class="na">toBlocking</span><span class="o">().</span><span class="na">exchange</span><span class="o">(</span><span class="n">request</span><span class="o">,</span>
                <span class="n">Argument</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">List</span><span class="o">,</span> <span class="n">AnnouncementView</span><span class="o">),</span>
                <span class="n">Argument</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">CustomError</span><span class="o">))</span>

        <span class="nl">then:</span>
        <span class="n">HttpClientException</span> <span class="n">e</span> <span class="o">=</span> <span class="n">thrown</span><span class="o">(</span><span class="n">HttpClientException</span><span class="o">)</span>
        <span class="n">e</span><span class="o">.</span><span class="na">response</span><span class="o">.</span><span class="na">status</span> <span class="o">==</span> <span class="n">HttpStatus</span><span class="o">.</span><span class="na">UNAUTHORIZED</span>

        <span class="nl">when:</span>
        <span class="n">Optional</span><span class="o">&lt;</span><span class="n">CustomError</span><span class="o">&gt;</span> <span class="n">jsonError</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="na">response</span><span class="o">.</span><span class="na">getBody</span><span class="o">(</span><span class="n">CustomError</span><span class="o">)</span>

        <span class="nl">then:</span>
        <span class="n">jsonError</span><span class="o">.</span><span class="na">isPresent</span><span class="o">()</span>
        <span class="n">jsonError</span><span class="o">.</span><span class="na">get</span><span class="o">().</span><span class="na">status</span> <span class="o">==</span> <span class="mi">401</span>
        <span class="n">jsonError</span><span class="o">.</span><span class="na">get</span><span class="o">().</span><span class="na">error</span> <span class="o">==</span> <span class="s1">'Unauthorized'</span>
        <span class="n">jsonError</span><span class="o">.</span><span class="na">get</span><span class="o">().</span><span class="na">message</span> <span class="o">==</span> <span class="kc">null</span>
        <span class="n">jsonError</span><span class="o">.</span><span class="na">get</span><span class="o">().</span><span class="na">path</span> <span class="o">==</span> <span class="s1">'/api/announcements'</span>
    <span class="o">}</span>

    <span class="kt">def</span> <span class="s2">"test a user with the role ROLE_BOSS is able to access /api/announcements url"</span><span class="o">()</span> <span class="o">{</span>
        <span class="nl">when:</span> <span class="s1">'login with the sherlock'</span>
        <span class="n">UserCredentials</span> <span class="n">credentials</span> <span class="o">=</span> <span class="k">new</span> <span class="n">UserCredentials</span><span class="o">(</span><span class="nl">username:</span> <span class="s1">'sherlock'</span><span class="o">,</span> <span class="nl">password:</span> <span class="s1">'elementary'</span><span class="o">)</span>
        <span class="n">HttpRequest</span> <span class="n">request</span> <span class="o">=</span> <span class="n">HttpRequest</span><span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="s1">'/api/login'</span><span class="o">,</span> <span class="n">credentials</span><span class="o">)</span>
        <span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">BearerToken</span><span class="o">&gt;</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">toBlocking</span><span class="o">().</span><span class="na">exchange</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">BearerToken</span><span class="o">)</span>

        <span class="nl">then:</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">status</span><span class="o">.</span><span class="na">code</span> <span class="o">==</span> <span class="mi">200</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">body</span><span class="o">().</span><span class="na">roles</span><span class="o">.</span><span class="na">find</span> <span class="o">{</span> <span class="n">it</span> <span class="o">==</span> <span class="s1">'ROLE_BOSS'</span> <span class="o">}</span>

        <span class="nl">when:</span>
        <span class="n">String</span> <span class="n">accessToken</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="na">body</span><span class="o">().</span><span class="na">accessToken</span>

        <span class="nl">then:</span>
        <span class="n">accessToken</span>

        <span class="nl">when:</span>
        <span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&gt;</span> <span class="n">rsp</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">toBlocking</span><span class="o">().</span><span class="na">exchange</span><span class="o">(</span><span class="n">HttpRequest</span><span class="o">.</span><span class="na">GET</span><span class="o">(</span><span class="s1">'/api/announcements'</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s1">'Authorization'</span><span class="o">,</span> <span class="s2">"Bearer ${accessToken}"</span><span class="o">),</span> <span class="n">Argument</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">List</span><span class="o">,</span> <span class="n">AnnouncementView</span><span class="o">))</span>

        <span class="nl">then:</span>
        <span class="n">rsp</span><span class="o">.</span><span class="na">status</span><span class="o">.</span><span class="na">code</span> <span class="o">==</span> <span class="mi">200</span>
        <span class="n">rsp</span><span class="o">.</span><span class="na">body</span><span class="o">()</span> <span class="o">!=</span> <span class="kc">null</span>
        <span class="o">((</span><span class="n">List</span><span class="o">)</span> <span class="n">rsp</span><span class="o">.</span><span class="na">body</span><span class="o">()).</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="o">((</span><span class="n">List</span><span class="o">)</span> <span class="n">rsp</span><span class="o">.</span><span class="na">body</span><span class="o">()).</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="k">instanceof</span> <span class="n">AnnouncementView</span>
        <span class="o">((</span><span class="n">AnnouncementView</span><span class="o">)</span> <span class="o">((</span><span class="n">List</span><span class="o">)</span> <span class="n">rsp</span><span class="o">.</span><span class="na">body</span><span class="o">()).</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">)).</span><span class="na">message</span> <span class="o">==</span> <span class="s1">'The Hound of the Baskervilles'</span>
    <span class="o">}</span>

    <span class="kt">def</span> <span class="s2">"test a user with the role ROLE_EMPLOYEE is NOT able to access /api/announcements url"</span><span class="o">()</span> <span class="o">{</span>
        <span class="nl">when:</span> <span class="s1">'login with the watson'</span>

        <span class="n">UserCredentials</span> <span class="n">creds</span> <span class="o">=</span> <span class="k">new</span> <span class="n">UserCredentials</span><span class="o">(</span><span class="nl">username:</span> <span class="s1">'watson'</span><span class="o">,</span> <span class="nl">password:</span> <span class="s1">'221Bbakerstreet'</span><span class="o">)</span>
        <span class="n">HttpRequest</span> <span class="n">request</span> <span class="o">=</span> <span class="n">HttpRequest</span><span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="s1">'/api/login'</span><span class="o">,</span> <span class="n">creds</span><span class="o">)</span>
        <span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">BearerToken</span><span class="o">&gt;</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">toBlocking</span><span class="o">().</span><span class="na">exchange</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">BearerToken</span><span class="o">)</span>

        <span class="nl">then:</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">status</span><span class="o">.</span><span class="na">code</span> <span class="o">==</span> <span class="mi">200</span>
        <span class="o">!</span><span class="n">resp</span><span class="o">.</span><span class="na">body</span><span class="o">().</span><span class="na">roles</span><span class="o">.</span><span class="na">find</span> <span class="o">{</span> <span class="n">it</span> <span class="o">==</span> <span class="s1">'ROLE_BOSS'</span> <span class="o">}</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">body</span><span class="o">().</span><span class="na">roles</span><span class="o">.</span><span class="na">find</span> <span class="o">{</span> <span class="n">it</span> <span class="o">==</span> <span class="s1">'ROLE_EMPLOYEE'</span> <span class="o">}</span>

        <span class="nl">when:</span>
        <span class="n">String</span> <span class="n">accessToken</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="na">body</span><span class="o">().</span><span class="na">accessToken</span>

        <span class="nl">then:</span>
        <span class="n">accessToken</span>

        <span class="nl">when:</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">toBlocking</span><span class="o">().</span><span class="na">exchange</span><span class="o">(</span><span class="n">HttpRequest</span><span class="o">.</span><span class="na">GET</span><span class="o">(</span><span class="s1">'/api/announcements'</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s1">'Authorization'</span><span class="o">,</span> <span class="s2">"Bearer ${accessToken}"</span><span class="o">))</span>

        <span class="nl">then:</span>
        <span class="kt">def</span> <span class="n">e</span> <span class="o">=</span> <span class="n">thrown</span><span class="o">(</span><span class="n">HttpClientException</span><span class="o">)</span>
        <span class="n">e</span><span class="o">.</span><span class="na">response</span><span class="o">.</span><span class="na">status</span> <span class="o">==</span> <span class="n">HttpStatus</span><span class="o">.</span><span class="na">FORBIDDEN</span>
    <span class="o">}</span>
<span class="o">}</span>    
</code></pre></div></div><h3 id="with-geb"> <a href="#with-geb" class="anchor-heading" aria-labelledby="with-geb"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> with GEB</h3><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">geb.Page</span>

<span class="kd">class</span> <span class="nc">LoginPage</span> <span class="kd">extends</span> <span class="n">Page</span> <span class="o">{</span>
    <span class="kd">static</span> <span class="n">url</span> <span class="o">=</span> <span class="s1">'/login/auth'</span>

    <span class="kd">static</span> <span class="n">at</span> <span class="o">=</span> <span class="o">{</span>
        <span class="n">title</span> <span class="o">==</span> <span class="s1">'Login'</span>
    <span class="o">}</span>

    <span class="kd">static</span> <span class="n">content</span> <span class="o">=</span> <span class="o">{</span>
        <span class="n">loginButton</span> <span class="o">{</span> <span class="n">$</span><span class="o">(</span><span class="s1">'#submit'</span><span class="o">,</span> <span class="mi">0</span><span class="o">)</span> <span class="o">}</span>
        <span class="n">usernameInputField</span> <span class="o">{</span> <span class="n">$</span><span class="o">(</span><span class="s1">'#username'</span><span class="o">,</span> <span class="mi">0</span><span class="o">)</span> <span class="o">}</span>
        <span class="n">passwordInputField</span> <span class="o">{</span> <span class="n">$</span><span class="o">(</span><span class="s1">'#password'</span><span class="o">,</span> <span class="mi">0</span><span class="o">)</span> <span class="o">}</span>
    <span class="o">}</span>

    <span class="kt">void</span> <span class="nf">login</span><span class="o">(</span><span class="n">String</span> <span class="n">username</span><span class="o">,</span> <span class="n">String</span> <span class="n">password</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">usernameInputField</span> <span class="o">&lt;&lt;</span> <span class="n">username</span>
        <span class="n">passwordInputField</span> <span class="o">&lt;&lt;</span> <span class="n">password</span>
        <span class="n">loginButton</span><span class="o">.</span><span class="na">click</span><span class="o">()</span>
    <span class="o">}</span>
<span class="o">}</span>    
</code></pre></div></div><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">geb.Page</span>

<span class="kd">class</span> <span class="nc">AnnouncementListingPage</span> <span class="kd">extends</span> <span class="n">Page</span> <span class="o">{</span>
    <span class="kd">static</span> <span class="n">url</span> <span class="o">=</span> <span class="s1">'/announcement/index'</span>

    <span class="kd">static</span> <span class="n">at</span> <span class="o">=</span> <span class="o">{</span>
        <span class="n">$</span><span class="o">(</span><span class="s1">'#list-announcement'</span><span class="o">).</span><span class="na">text</span><span class="o">()?.</span><span class="na">contains</span> <span class="s1">'Announcement List'</span>
    <span class="o">}</span>
<span class="o">}</span>    
</code></pre></div></div><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">geb.spock.GebSpec</span>
<span class="kn">import</span> <span class="nn">grails.testing.mixin.integration.Integration</span>

<span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s1">'MethodName'</span><span class="o">)</span>
<span class="nd">@Integration</span>
<span class="kd">class</span> <span class="nc">AnnouncementControllerSpec</span> <span class="kd">extends</span> <span class="n">GebSpec</span> <span class="o">{</span>

    <span class="kt">void</span> <span class="s1">'test /announcement/index is secured, but accesible to users with role ROLE_BOSS'</span><span class="o">()</span> <span class="o">{</span>
        <span class="nl">when:</span> <span class="s1">'try to visit announcement listing without login'</span>
        <span class="n">go</span> <span class="s1">'/announcement/index'</span>

        <span class="nl">then:</span> <span class="s1">'it is redirected to login page'</span>
        <span class="n">at</span> <span class="n">LoginPage</span>

        <span class="nl">when:</span> <span class="s1">'signs in with a ROLE_BOSS user'</span>
        <span class="n">LoginPage</span> <span class="n">page</span> <span class="o">=</span> <span class="n">browser</span><span class="o">.</span><span class="na">page</span><span class="o">(</span><span class="n">LoginPage</span><span class="o">)</span>
        <span class="n">page</span><span class="o">.</span><span class="na">login</span><span class="o">(</span><span class="s1">'sherlock'</span><span class="o">,</span> <span class="s1">'elementary'</span><span class="o">)</span>

        <span class="nl">then:</span> <span class="s1">'he gets access to the announcement listing page'</span>
        <span class="n">at</span> <span class="n">AnnouncementListingPage</span>
    <span class="o">}</span>

    <span class="kt">void</span> <span class="s1">'test /announcement/index is secured, but accesible to users with role ROLE_EMPLOYEE'</span><span class="o">()</span> <span class="o">{</span>
        <span class="nl">when:</span> <span class="s1">'try to visit announcement listing without login'</span>
        <span class="n">go</span> <span class="s1">'/announcement/index'</span>

        <span class="nl">then:</span> <span class="s1">'it is redirected to login page'</span>
        <span class="n">at</span> <span class="n">LoginPage</span>

        <span class="nl">when:</span> <span class="s1">'signs in with a ROLE_EMPLOYEE user'</span>
        <span class="n">LoginPage</span> <span class="n">page</span> <span class="o">=</span> <span class="n">browser</span><span class="o">.</span><span class="na">page</span><span class="o">(</span><span class="n">LoginPage</span><span class="o">)</span>
        <span class="n">page</span><span class="o">.</span><span class="na">login</span><span class="o">(</span><span class="s1">'watson'</span><span class="o">,</span> <span class="s1">'221Bbakerstreet'</span><span class="o">)</span>

        <span class="nl">then:</span> <span class="s1">'he gets access to the announcement listing page'</span>
        <span class="n">at</span> <span class="n">AnnouncementListingPage</span>
    <span class="o">}</span>
<span class="o">}</span>    
</code></pre></div></div><h2 id="mocking-service-and-then-method-call-setting-dummy-data-for-the-returnput-in-test-method"> <a href="#mocking-service-and-then-method-call-setting-dummy-data-for-the-returnput-in-test-method" class="anchor-heading" aria-labelledby="mocking-service-and-then-method-call-setting-dummy-data-for-the-returnput-in-test-method"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mocking service and then method call, setting dummy data for the return(put in test method)</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="n">controller</span><span class="o">.</span><span class="na">openweathermapService</span> <span class="o">=</span> <span class="n">Mock</span><span class="o">(</span><span class="n">OpenweathermapService</span><span class="o">)</span>

<span class="n">controller</span><span class="o">.</span><span class="na">openweathermapService</span><span class="o">.</span><span class="na">currentWeatherByGeoID</span><span class="o">(</span><span class="n">_</span><span class="o">)</span> <span class="o">&gt;&gt;</span> <span class="n">currentWeather</span>    
</code></pre></div></div><h2 id="mocking-service-used-in-a-service-you-are-testingput-at-beginning-of-the-test-class"> <a href="#mocking-service-used-in-a-service-you-are-testingput-at-beginning-of-the-test-class" class="anchor-heading" aria-labelledby="mocking-service-used-in-a-service-you-are-testingput-at-beginning-of-the-test-class"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mocking Service used in a service you are testing(put at beginning of the test class)</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">Closure</span> <span class="nf">doWithSpring</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">{</span> <span class="o">-&gt;</span>
        <span class="n">assessmentOrderService</span> <span class="n">AssessmentOrderService</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="n">AssessmentOrderService</span> <span class="n">assessmentOrderService</span>    
</code></pre></div></div><h2 id="mocking-method-in-service-you-are-testing"> <a href="#mocking-method-in-service-you-are-testing" class="anchor-heading" aria-labelledby="mocking-method-in-service-you-are-testing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mocking Method in service you are testing</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nd">@Shared</span>
<span class="n">GroupCompareJoinUserGroupService</span> <span class="n">groupCompareJoinUserGroupService</span>

<span class="nf">setupSpec</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">mockDomain</span> <span class="n">GroupCompareJoinUserGroup</span>

<span class="o">}</span>

<span class="kt">def</span> <span class="s2">"some test"</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">service</span><span class="o">.</span><span class="na">groupCompareJoinUserGroupService</span> <span class="o">=</span> <span class="n">Mock</span><span class="o">(</span><span class="n">GroupCompareJoinUserGroupService</span><span class="o">)</span>
    <span class="n">service</span><span class="o">.</span><span class="na">groupCompareJoinUserGroupService</span><span class="o">.</span><span class="na">fetchAssociatedAssessments</span><span class="o">(</span><span class="n">_</span> <span class="k">as</span> <span class="n">GroupCompare</span><span class="o">,</span> <span class="kc">true</span><span class="o">)</span> <span class="o">&gt;&gt;</span> <span class="o">{</span> <span class="n">groupCompare</span><span class="o">,</span> <span class="n">removeRelationships</span> <span class="o">-&gt;</span> <span class="n">groupCompareJoinUserGroupService</span><span class="o">.</span><span class="na">fetchAssociatedAssessments</span><span class="o">(</span><span class="n">groupCompare</span><span class="o">,</span> <span class="kc">true</span><span class="o">)</span> <span class="o">}</span>

<span class="o">}</span>

</code></pre></div></div><h2 id="testing-a-webpage-with-spock-and-geb"> <a href="#testing-a-webpage-with-spock-and-geb" class="anchor-heading" aria-labelledby="testing-a-webpage-with-spock-and-geb"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Testing a webpage with spock and geb</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">geb.Page</span>
<span class="kn">import</span> <span class="nn">geb.module.TextInput</span>

<span class="kd">class</span> <span class="nc">SignUpPage</span> <span class="kd">extends</span> <span class="n">Page</span> <span class="o">{</span>

    <span class="kd">static</span> <span class="n">url</span> <span class="o">=</span> <span class="s1">'/signup'</span>

    <span class="kd">static</span> <span class="n">content</span> <span class="o">=</span> <span class="o">{</span>
        <span class="n">firstNameInput</span> <span class="o">{</span> <span class="n">$</span><span class="o">(</span><span class="nl">name:</span> <span class="s2">"firstName"</span><span class="o">).</span><span class="na">module</span><span class="o">(</span><span class="n">TextInput</span><span class="o">)</span> <span class="o">}</span>
        <span class="n">lastNameInput</span> <span class="o">{</span> <span class="n">$</span><span class="o">(</span><span class="nl">name:</span> <span class="s2">"lastName"</span><span class="o">).</span><span class="na">module</span><span class="o">(</span><span class="n">TextInput</span><span class="o">)</span> <span class="o">}</span>
        <span class="n">emailInput</span> <span class="o">{</span> <span class="n">$</span><span class="o">(</span><span class="nl">name:</span> <span class="s2">"email"</span><span class="o">).</span><span class="na">module</span><span class="o">(</span><span class="n">TextInput</span><span class="o">)</span> <span class="o">}</span>
        <span class="n">submitButton</span> <span class="o">{</span> <span class="n">$</span><span class="o">(</span><span class="s1">'#submit'</span><span class="o">)</span> <span class="o">}</span>
    <span class="o">}</span>

    <span class="kt">void</span> <span class="nf">submit</span><span class="o">(</span><span class="n">String</span> <span class="n">firstName</span><span class="o">,</span> <span class="n">String</span> <span class="n">lastName</span><span class="o">,</span> <span class="n">String</span> <span class="n">email</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">firstNameInput</span><span class="o">.</span><span class="na">text</span> <span class="o">=</span> <span class="n">firstName</span>
        <span class="n">lastNameInput</span><span class="o">.</span><span class="na">text</span> <span class="o">=</span> <span class="n">lastName</span>
        <span class="n">emailInput</span><span class="o">.</span><span class="na">text</span> <span class="o">=</span> <span class="n">email</span>
        <span class="n">submitButton</span><span class="o">.</span><span class="na">click</span><span class="o">()</span>
    <span class="o">}</span>
<span class="o">}</span>    
</code></pre></div></div><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">geb.spock.GebSpec</span>
<span class="kn">import</span> <span class="nn">grails.gorm.transactions.Rollback</span>
<span class="kn">import</span> <span class="nn">grails.testing.mixin.integration.Integration</span>

<span class="nd">@Integration</span>
<span class="kd">class</span> <span class="nc">RegisterControllerSpec</span> <span class="kd">extends</span> <span class="n">GebSpec</span> <span class="o">{</span>

    <span class="n">NotificationService</span> <span class="n">notificationService</span>

    <span class="n">UserService</span> <span class="n">userService</span>

    <span class="nd">@Rollback</span>
    <span class="kt">def</span> <span class="s2">"If you signup a User, an Event triggers which causes a Notification to be saved"</span><span class="o">()</span> <span class="o">{</span>
        <span class="nl">when:</span> <span class="s1">'you signup with a non existing user'</span>
        <span class="n">SignUpPage</span> <span class="n">page</span> <span class="o">=</span> <span class="n">to</span> <span class="n">SignUpPage</span>
        <span class="n">page</span><span class="o">.</span><span class="na">submit</span><span class="o">(</span><span class="s1">'Sergio'</span><span class="o">,</span> <span class="s1">'del Amo'</span><span class="o">,</span> <span class="s1">'delamos@email.com'</span><span class="o">)</span>

        <span class="nl">then:</span> <span class="s1">'the user gets created and a notification is saved due to the event being triggered'</span>
        <span class="n">userService</span><span class="o">.</span><span class="na">count</span><span class="o">()</span> <span class="o">==</span> <span class="n">old</span><span class="o">(</span><span class="n">userService</span><span class="o">.</span><span class="na">count</span><span class="o">())</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">notificationService</span><span class="o">.</span><span class="na">count</span><span class="o">()</span> <span class="o">==</span> <span class="n">old</span><span class="o">(</span><span class="n">notificationService</span><span class="o">.</span><span class="na">count</span><span class="o">())</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="nl">when:</span> <span class="s1">'you try to signup with a user which is already in the database'</span>
        <span class="n">page</span> <span class="o">=</span> <span class="n">to</span> <span class="n">SignUpPage</span>
        <span class="n">page</span><span class="o">.</span><span class="na">submit</span><span class="o">(</span><span class="s1">'Sergio'</span><span class="o">,</span> <span class="s1">'del Amo'</span><span class="o">,</span> <span class="s1">'delamos@email.com'</span><span class="o">)</span>

        <span class="nl">then:</span> <span class="s1">'The user is not saved and no event gets triggered'</span>
        <span class="n">noExceptionThrown</span><span class="o">()</span>
        <span class="n">userService</span><span class="o">.</span><span class="na">count</span><span class="o">()</span> <span class="o">==</span> <span class="n">old</span><span class="o">(</span><span class="n">userService</span><span class="o">.</span><span class="na">count</span><span class="o">())</span>
        <span class="n">notificationService</span><span class="o">.</span><span class="na">count</span><span class="o">()</span> <span class="o">==</span> <span class="n">old</span><span class="o">(</span><span class="n">notificationService</span><span class="o">.</span><span class="na">count</span><span class="o">())</span>

        <span class="nl">cleanup:</span>
        <span class="n">userService</span><span class="o">.</span><span class="na">deleteByEmail</span><span class="o">(</span><span class="s1">'delamos@email.com'</span><span class="o">)</span>
        <span class="n">notificationService</span><span class="o">.</span><span class="na">deleteByEmail</span><span class="o">(</span><span class="s1">'delamos@email.com'</span><span class="o">)</span>
    <span class="o">}</span>
<span class="o">}</span>    
</code></pre></div></div><h2 id="mocking-method-in-domain"> <a href="#mocking-method-in-domain" class="anchor-heading" aria-labelledby="mocking-method-in-domain"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mocking method in domain</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">[</span><span class="n">service</span> <span class="s">/ controller /</span> <span class="n">domain</span><span class="o">].</span><span class="na">metaclass</span><span class="o">.</span><span class="err">’</span> <span class="kd">static</span> <span class="err">’</span><span class="o">.[</span><span class="n">method</span><span class="o">]</span> <span class="o">=</span> <span class="o">{</span>
    <span class="o">[</span><span class="n">arguments</span><span class="o">]</span> <span class="o">-&gt;</span> <span class="o">[</span><span class="n">what</span> <span class="n">to</span>
    <span class="k">return</span> <span class="o">]</span>
<span class="o">}</span>

</code></pre></div></div><h2 id="checking-validity-of-constraints"> <a href="#checking-validity-of-constraints" class="anchor-heading" aria-labelledby="checking-validity-of-constraints"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Checking validity of constraints</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">!</span><span class="n">newScheduledInterview2</span><span class="o">.</span><span class="na">validate</span><span class="o">([</span><span class="s1">'scheduledBy'</span><span class="o">,</span> <span class="s1">'scheduledDate'</span><span class="o">])</span>
<span class="o">!</span><span class="n">newScheduledInterview2</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="nl">flush:</span> <span class="kc">true</span><span class="o">)</span>
<span class="n">newScheduledInterview2</span><span class="o">.</span><span class="na">errors</span><span class="o">[</span><span class="s1">'scheduledDate'</span><span class="o">]?.</span><span class="na">code</span> <span class="o">==</span> <span class="s1">'unique'</span>    
</code></pre></div></div><h2 id="check-if-method-was-called-for-another-service"> <a href="#check-if-method-was-called-for-another-service" class="anchor-heading" aria-labelledby="check-if-method-was-called-for-another-service"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> check if method was called for another service</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">def</span> <span class="n">called</span> <span class="o">=</span> <span class="kc">false</span>
<span class="n">service</span><span class="o">.</span><span class="na">notifierService</span> <span class="o">=</span> <span class="n">Mock</span><span class="o">(</span><span class="n">NotifierService</span><span class="o">)</span>
<span class="n">service</span><span class="o">.</span><span class="na">notifierService</span><span class="o">.</span><span class="na">sendPostMarkEmail</span><span class="o">(</span><span class="n">_</span> <span class="k">as</span> <span class="n">PostMarkEmail</span><span class="o">,</span> <span class="n">_</span><span class="o">)</span> <span class="o">&gt;&gt;</span> <span class="o">{</span> <span class="n">it</span> <span class="o">-&gt;</span> <span class="n">called</span> <span class="o">=</span> <span class="kc">true</span> <span class="o">}</span>    
</code></pre></div></div><h2 id="check-if-method-was-called-for-same-service"> <a href="#check-if-method-was-called-for-same-service" class="anchor-heading" aria-labelledby="check-if-method-was-called-for-same-service"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> check if method was called for same service</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">service</span><span class="o">.</span><span class="na">metaClass</span><span class="o">.</span><span class="na">sendReminderEmail</span> <span class="o">=</span> <span class="o">{</span> <span class="n">assessmentOrderId</span><span class="o">,</span> <span class="n">templateId</span><span class="o">,</span> <span class="n">sender</span><span class="o">,</span> <span class="n">newTemplateBody</span><span class="o">,</span> <span class="n">jobId</span> <span class="o">-&gt;</span> <span class="n">calls</span><span class="o">++</span> <span class="o">}</span>    
</code></pre></div></div><h2 id="create-an-exception"> <a href="#create-an-exception" class="anchor-heading" aria-labelledby="create-an-exception"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> create an exception</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//create expando    </span>
<span class="kt">def</span> <span class="n">testDelete</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Expando</span><span class="o">()</span>

<span class="c1">// add exception to method call    </span>
<span class="kt">def</span> <span class="n">exception</span> <span class="o">=</span> <span class="o">{</span> <span class="k">new</span> <span class="n">Exception</span><span class="o">(</span><span class="s2">"TEST"</span><span class="o">)</span> <span class="o">}</span>
<span class="n">testDelete</span><span class="o">.</span><span class="na">delete</span> <span class="o">=</span> <span class="o">{</span> <span class="k">throw</span> <span class="n">exception</span> <span class="o">}</span>

<span class="c1">// add class as return for a method    </span>
<span class="n">service</span><span class="o">.</span><span class="na">metaClass</span><span class="o">.[</span><span class="n">method_to_throw_exception</span><span class="o">]</span> <span class="o">=</span> <span class="o">{</span> <span class="n">testDelete</span> <span class="o">}</span>

<span class="c1">//example in CalenderServiceSpec.groovy / “test delete exception”    </span>
<span class="c1">//or    </span>
<span class="n">service</span><span class="o">.</span><span class="na">metaClass</span><span class="o">.[</span><span class="n">yourMethod</span><span class="o">]</span> <span class="o">&gt;&gt;</span> <span class="o">{</span> <span class="k">throw</span> <span class="n">exception</span> <span class="o">}</span>    
</code></pre></div></div><h2 id="catch-exception"> <a href="#catch-exception" class="anchor-heading" aria-labelledby="catch-exception"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> catch exception</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">def</span> <span class="n">response</span> <span class="o">=</span> <span class="n">thrown</span><span class="o">(</span><span class="n">GraphServiceException</span><span class="o">)</span>    
</code></pre></div></div><h2 id="modify-config-duringfor-test"> <a href="#modify-config-duringfor-test" class="anchor-heading" aria-labelledby="modify-config-duringfor-test"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> modify config during/for test</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="n">Holders</span><span class="o">.</span><span class="na">grailsApplication</span><span class="o">.</span><span class="na">config</span><span class="o">.</span><span class="na">outlook</span><span class="o">.</span><span class="na">clientId</span> <span class="o">=</span> <span class="s2">"GUUNAR5"</span>    
</code></pre></div></div><h2 id="create-a-custom-manager-for-a-test"> <a href="#create-a-custom-manager-for-a-test" class="anchor-heading" aria-labelledby="create-a-custom-manager-for-a-test"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> create a custom manager for a test</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kt">def</span> <span class="n">managerMap</span> <span class="o">=</span> <span class="o">[:]</span>
<span class="n">RoleGroup</span><span class="o">.</span><span class="na">findAll</span><span class="o">().</span><span class="na">each</span> <span class="o">{</span>
    <span class="kt">def</span> <span class="n">myUser</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="na">build</span><span class="o">(</span><span class="nl">clientSetupId:</span> <span class="mi">1</span><span class="o">,</span> <span class="nl">email:</span>
            <span class="s2">"${it.name}@mailinator.com"</span><span class="o">,</span> <span class="nl">username:</span> <span class="s2">"${it.name}@mailinator.com"</span><span class="o">)</span>
    <span class="n">UserRoleGroup</span><span class="o">.</span><span class="na">build</span><span class="o">(</span><span class="nl">user:</span> <span class="n">myUser</span><span class="o">,</span> <span class="nl">roleGroup:</span> <span class="n">it</span><span class="o">)</span>
    <span class="kt">def</span> <span class="n">tokenAuthentication</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TokenAuthentication</span><span class="o">(</span><span class="n">decodedJwt</span><span class="o">(</span><span class="n">myUser</span><span class="o">),</span> <span class="n">myUser</span><span class="o">)</span>
    <span class="n">tokenAuthentication</span><span class="o">.</span><span class="na">details</span> <span class="o">=</span> <span class="n">myUser</span>
    <span class="n">authMap</span><span class="o">[(</span><span class="n">it</span><span class="o">.</span><span class="na">name</span><span class="o">)]</span> <span class="o">=</span> <span class="n">tokenAuthentication</span>
    <span class="n">managerMap</span><span class="o">[(</span><span class="n">myUser</span><span class="o">.</span><span class="na">id</span><span class="o">)]</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="na">name</span> <span class="o">==~</span> <span class="s">/testManager.*/</span> <span class="o">?</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">]</span> <span class="o">:</span> <span class="o">[]</span>
<span class="o">}</span>
<span class="n">service</span><span class="o">.</span><span class="na">userService</span> <span class="o">=</span> <span class="n">Mock</span><span class="o">(</span><span class="n">UserService</span><span class="o">)</span>
<span class="n">service</span><span class="o">.</span><span class="na">userService</span><span class="o">.</span><span class="na">fetchDirectReportIds</span><span class="o">(</span><span class="n">_</span><span class="o">)</span> <span class="o">&gt;&gt;</span> <span class="o">{</span> <span class="n">it</span> <span class="o">-&gt;</span>
    <span class="n">managerMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">it</span><span class="o">[</span><span class="mi">0</span><span class="o">])</span>
<span class="o">}</span>    
</code></pre></div></div><h2 id="mocking-hibernate-used-to-test-methods-using-where-queriers--detached-criteria--criteria-builder"> <a href="#mocking-hibernate-used-to-test-methods-using-where-queriers--detached-criteria--criteria-builder" class="anchor-heading" aria-labelledby="mocking-hibernate-used-to-test-methods-using-where-queriers--detached-criteria--criteria-builder"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mocking hibernate used to test methods using where queriers / detached criteria / criteria builder</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nd">@Shared</span>
<span class="n">InterviewModelService</span> <span class="n">interviewModelService</span>

<span class="nd">@Shared</span>
<span class="n">HibernateDatastore</span> <span class="n">hibernateDatastore</span>

<span class="nd">@Shared</span>
<span class="n">PlatformTransactionManager</span> <span class="n">transactionManager</span>

<span class="n">Map</span> <span class="n">configuration</span> <span class="o">=</span> <span class="o">[</span>
        <span class="s1">'hibernate.hbm2ddl.auto'</span>              <span class="o">:</span> <span class="s1">'create-drop'</span><span class="o">,</span>
        <span class="s1">'dataSource.url'</span>                      <span class="o">:</span> <span class="s1">'jdbc:h2:mem:myDB'</span><span class="o">,</span>
        <span class="s1">'hibernate.cache.region.factory_class'</span><span class="o">:</span> <span class="s1">'org.hibernate.cache.ehcache.EhCacheRegionFactory'</span>
<span class="o">]</span>
<span class="n">hibernateDatastore</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HibernateDatastore</span><span class="o">(</span><span class="n">configuration</span><span class="o">,</span> <span class="n">CatalogDetail</span><span class="o">)</span>
<span class="n">transactionManager</span> <span class="o">=</span> <span class="n">hibernateDatastore</span><span class="o">.</span><span class="na">getTransactionManager</span><span class="o">()</span>
<span class="n">catalogDetailService</span> <span class="o">=</span> <span class="n">hibernateDatastore</span><span class="o">.</span><span class="na">getService</span><span class="o">(</span><span class="n">CatalogDetailService</span><span class="o">)</span>


<span class="c1">//Set tests to rollback    </span>

<span class="nd">@Rollback</span>
<span class="kt">void</span> <span class="s2">"test criteria builder for getting interview models should return all"</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">//test    </span>
<span class="o">}</span>    
</code></pre></div></div><h2 id="mock-return-value-for-service-method-used-in-the-service-you-are-testing"> <a href="#mock-return-value-for-service-method-used-in-the-service-you-are-testing" class="anchor-heading" aria-labelledby="mock-return-value-for-service-method-used-in-the-service-you-are-testing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mock return value for service method used in the service you are testing</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">service</span><span class="o">.</span><span class="na">springSecurityService</span> <span class="o">=</span> <span class="o">[</span><span class="nl">authentication:</span> <span class="o">[</span><span class="nl">details:</span> <span class="n">currentUser</span><span class="o">]]</span>    
</code></pre></div></div><h2 id="mock-a-static-method-call-from-a-domain"> <a href="#mock-a-static-method-call-from-a-domain" class="anchor-heading" aria-labelledby="mock-a-static-method-call-from-a-domain"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mock a static method call from a domain</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ClientSetup</span><span class="o">.</span><span class="na">metaClass</span><span class="o">.</span><span class="na">static</span><span class="o">.</span><span class="na">fetchSecurityGroupLabelsByClientSetupId</span> <span class="o">=</span> <span class="o">{</span> <span class="n">Long</span> <span class="n">id</span><span class="o">,</span> <span class="n">String</span> <span class="n">en</span> <span class="o">-&gt;</span> <span class="o">[</span><span class="nl">secGroupNameLabel:</span> <span class="s1">'secGroupNameLabel'</span><span class="o">,</span> <span class="nl">secGroupCodeLabel:</span> <span class="s1">'secGroupCodeLabel'</span><span class="o">]</span> <span class="o">}</span>    
</code></pre></div></div><h3 id="grails3"> <a href="#grails3" class="anchor-heading" aria-labelledby="grails3"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Grails3</h3><p><a href="https://gist.github.com/14paxton/0d64ab846b4691d8d6f1ccd5ccc63b58">Controller</a></p><h3 id="grails4"> <a href="#grails4" class="anchor-heading" aria-labelledby="grails4"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Grails4</h3><h4 id="ex-integrations-test-for-controller"> <a href="#ex-integrations-test-for-controller" class="anchor-heading" aria-labelledby="ex-integrations-test-for-controller"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Ex. Integrations test for controller</h4><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">musicandcars</span>

<span class="kn">import</span> <span class="nn">grails.testing.mixin.integration.Integration</span>
<span class="kn">import</span> <span class="nn">grails.testing.spock.OnceBefore</span>
<span class="kn">import</span> <span class="nn">io.micronaut.core.type.Argument</span>
<span class="kn">import</span> <span class="nn">io.micronaut.http.HttpRequest</span>
<span class="kn">import</span> <span class="nn">io.micronaut.http.HttpResponse</span>
<span class="kn">import</span> <span class="nn">io.micronaut.http.HttpStatus</span>
<span class="kn">import</span> <span class="nn">io.micronaut.http.MediaType</span>
<span class="kn">import</span> <span class="nn">io.micronaut.http.client.HttpClient</span>
<span class="kn">import</span> <span class="nn">spock.lang.Shared</span>
<span class="kn">import</span> <span class="nn">spock.lang.Specification</span>
<span class="kn">import</span> <span class="nn">spock.lang.Stepwise</span>

<span class="nd">@Integration</span>
<span class="nd">@Stepwise</span>
<span class="kd">class</span> <span class="nc">CarFunctionalSpec</span> <span class="kd">extends</span> <span class="n">Specification</span> <span class="o">{</span>

    <span class="nd">@Shared</span>
    <span class="n">HttpClient</span> <span class="n">client</span>

    <span class="nd">@OnceBefore</span>
    <span class="kt">void</span> <span class="nf">init</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">baseUrl</span> <span class="o">=</span> <span class="s2">"http://localhost:$serverPort"</span>
        <span class="k">this</span><span class="o">.</span><span class="na">client</span> <span class="o">=</span> <span class="n">HttpClient</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">baseUrl</span><span class="o">.</span><span class="na">toURL</span><span class="o">())</span>
    <span class="o">}</span>

    <span class="kt">void</span> <span class="s2">"test that no cars exist"</span><span class="o">()</span> <span class="o">{</span>
        <span class="nl">when:</span>
        <span class="n">HttpResponse</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&gt;&gt;</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">toBlocking</span><span class="o">().</span><span class="na">exchange</span><span class="o">(</span><span class="n">HttpRequest</span><span class="o">.</span><span class="na">GET</span><span class="o">(</span><span class="s2">"/automobiles"</span><span class="o">),</span> <span class="n">Argument</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">List</span><span class="o">,</span> <span class="n">Map</span><span class="o">))</span>

        <span class="nl">then:</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">status</span> <span class="o">==</span> <span class="n">HttpStatus</span><span class="o">.</span><span class="na">OK</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">body</span><span class="o">().</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">contentType</span><span class="o">.</span><span class="na">get</span><span class="o">().</span><span class="na">extension</span> <span class="o">==</span> <span class="n">MediaType</span><span class="o">.</span><span class="na">EXTENSION_JSON</span>
    <span class="o">}</span>
<span class="o">}</span>    
</code></pre></div></div><hr /><h1 id="buildtest-plugin"> <a href="#buildtest-plugin" class="anchor-heading" aria-labelledby="buildtest-plugin"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> BuildTest plugin</h1><h2 id="snippet-from-spock-test"> <a href="#snippet-from-spock-test" class="anchor-heading" aria-labelledby="snippet-from-spock-test"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Snippet from spock test</h2><blockquote><p>Pluggin for using test data builder</p></blockquote><ul><li><a href="http://plugins.grails.org/plugin/longwa/build-test-data">BuildTestData</a></ul><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">import</span> <span class="nn">grails.buildtestdata.mixin.Build</span>    
</code></pre></div></div><div style="padding: 15px; border: 1px solid transparent; border-color: transparent; margin-bottom: 20px; border-radius: 4px; color: #31708f; background-color: #d9edf7; border-color: #bce8f1;"> use- implements BuildDomanTest\&lt; \&gt; instead of DomainUnitTest \&lt; \&gt;</div><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nd">@Build</span><span class="o">([</span><span class="n">Job</span><span class="o">,</span> <span class="n">Tag</span><span class="o">,</span> <span class="n">Type</span><span class="o">,</span> <span class="n">Publisher</span><span class="o">])</span>
<span class="kd">class</span> <span class="nc">StatisticsServiceSpec</span> <span class="kd">extends</span> <span class="n">Specification</span> <span class="kd">implements</span> <span class="n">AutowiredTest</span><span class="o">,</span> <span class="n">DataTest</span><span class="o">,</span> <span class="n">BuildDataTest</span><span class="o">,</span> <span class="n">ServiceUnitTest</span><span class="o">&lt;</span><span class="n">StatisticsService</span><span class="o">&gt;,</span> <span class="n">GrailsWebUnitTest</span> <span class="o">{</span>

    <span class="kt">def</span> <span class="nf">setupSpec</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">mockDomain</span> <span class="n">Job</span>
        <span class="n">mockDomain</span> <span class="n">Tag</span>
        <span class="n">mockDomain</span> <span class="n">Type</span>
        <span class="n">mockDomain</span> <span class="n">Publisher</span>
    <span class="o">}</span>

    <span class="kt">def</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kt">def</span> <span class="nf">cleanup</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kt">void</span> <span class="s2">"get top publishers when we don't have nothing in our system"</span><span class="o">()</span> <span class="o">{</span>
        <span class="nl">given:</span> <span class="s2">"when we don't have any job published"</span>

        <span class="nl">when:</span> <span class="s2">"we get top publishers"</span>
        <span class="kt">def</span> <span class="n">publishers</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="na">getTopPublishers</span><span class="o">()</span>
        <span class="nl">then:</span> <span class="s2">"we will see 0 publishers"</span>
        <span class="n">publishers</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="o">}</span>

    <span class="kt">void</span> <span class="s2">"get top publishers when we have multiple jobs published by the same publisher"</span><span class="o">()</span> <span class="o">{</span>
        <span class="nl">given:</span> <span class="s2">"when we have one 2 jobs published by the same publisher"</span>
        <span class="kt">def</span> <span class="n">tag</span> <span class="o">=</span> <span class="n">Tag</span><span class="o">.</span><span class="na">build</span><span class="o">()</span>
        <span class="kt">def</span> <span class="n">type</span> <span class="o">=</span> <span class="n">Type</span><span class="o">.</span><span class="na">build</span><span class="o">()</span>
        <span class="kt">def</span> <span class="n">publisher</span> <span class="o">=</span> <span class="n">Publisher</span><span class="o">.</span><span class="na">build</span><span class="o">()</span>
        <span class="n">Job</span><span class="o">.</span><span class="na">build</span><span class="o">(</span><span class="nl">publisher:</span> <span class="n">publisher</span><span class="o">,</span> <span class="nl">type:</span> <span class="n">type</span><span class="o">,</span> <span class="nl">tags:</span> <span class="o">[</span><span class="n">tag</span><span class="o">])</span>
        <span class="n">Job</span><span class="o">.</span><span class="na">build</span><span class="o">(</span><span class="nl">publisher:</span> <span class="n">publisher</span><span class="o">,</span> <span class="nl">type:</span> <span class="n">type</span><span class="o">,</span> <span class="nl">tags:</span> <span class="o">[</span><span class="n">tag</span><span class="o">])</span>

        <span class="nl">when:</span> <span class="s2">"we get top publishers"</span>
        <span class="kt">def</span> <span class="n">publishers</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="na">getTopPublishers</span><span class="o">()</span>
        <span class="kt">def</span> <span class="n">pair</span> <span class="o">=</span> <span class="n">publishers</span><span class="o">.</span><span class="na">find</span> <span class="o">{</span> <span class="n">key</span><span class="o">,</span> <span class="n">value</span> <span class="o">-&gt;</span>
            <span class="n">key</span><span class="o">.</span><span class="na">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="nl">http:</span> <span class="c1">//publisher.name ) }    </span>
                    <span class="n">then</span> <span class="o">:</span> <span class="s2">"we will see 2 publishers"</span>
                    <span class="n">publishers</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">1</span>
                    <span class="n">pair</span><span class="o">?.</span><span class="na">value</span> <span class="o">==</span> <span class="mi">2</span>
        <span class="o">}</span>

    <span class="o">}</span>    
</code></pre></div></div><ul><li>config file test/resources/TestDataConfig</ul><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">com.talentbank.core.ClientSetup</span>

<span class="kn">import</span> <span class="nn">java.util.concurrent.ThreadLocalRandom</span>

<span class="c1">//config file for test data plugin    </span>

<span class="n">testDataConfig</span> <span class="o">{</span>
    <span class="n">sampleData</span> <span class="o">{</span>
        <span class="n">unitAdditionalBuild</span> <span class="o">=[</span><span class="err">'</span><span class="n">com</span><span class="o">.</span><span class="na">talentbank</span><span class="o">.</span><span class="na">core</span><span class="o">.</span><span class="na">assessmentOrder</span><span class="o">.</span><span class="na">AssessmentOrder</span><span class="err">'</span><span class="o">:[</span><span class="n">com</span><span class="o">.</span><span class="na">talentbank</span><span class="o">.</span><span class="na">core</span><span class="o">.</span><span class="na">ClientSetup</span><span class="o">]]</span>

        <span class="err">'</span><span class="n">com</span><span class="o">.</span><span class="na">talentbank</span><span class="o">.</span><span class="na">core</span><span class="o">.</span><span class="na">ClientSetup</span><span class="err">'</span> <span class="o">{</span>
            <span class="c1">//work around for unique constraints    </span>
            <span class="n">def</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">55</span>
            <span class="n">clientId</span> <span class="o">=</span> <span class="o">{-&gt;</span><span class="nc">ThreadLocalRandom</span><span class="o">.</span><span class="na">current</span><span class="o">().</span><span class="na">nextLong</span><span class="o">(</span><span class="mi">100000</span><span class="o">)}</span>
            <span class="n">companyCode</span> <span class="o">=</span> <span class="o">{-&gt;</span><span class="s">"company${i}"</span><span class="o">}</span>
            <span class="n">clientName</span> <span class="o">=</span> <span class="o">{-&gt;</span><span class="s">"clientName${i++}"</span><span class="o">}</span>
        <span class="o">}</span>

        <span class="err">'</span><span class="n">com</span><span class="o">.</span><span class="na">talentbank</span><span class="o">.</span><span class="na">core</span><span class="o">.</span><span class="na">User</span><span class="err">'</span> <span class="o">{</span>
            <span class="n">def</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">55</span>
            <span class="n">username</span> <span class="o">=</span> <span class="o">{-&gt;</span><span class="s">"email${i++}@mailinator.com"</span><span class="o">}</span>
            <span class="n">email</span> <span class="o">=</span> <span class="o">{-&gt;</span><span class="s">"email${i}@mailinator.com"</span><span class="o">}</span>
        <span class="o">}</span>

        <span class="err">'</span><span class="n">com</span><span class="o">.</span><span class="na">talentbank</span><span class="o">.</span><span class="na">core</span><span class="o">.</span><span class="na">assessmentOrder</span><span class="o">.</span><span class="na">AssessmentOrder</span><span class="err">'</span> <span class="o">{</span>
            <span class="n">clientSetup</span> <span class="o">=</span> <span class="o">{-&gt;</span><span class="nc">ClientSetup</span><span class="o">.</span><span class="na">build</span><span class="o">()}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>    
</code></pre></div></div><h2 id="different-ways-to-build"> <a href="#different-ways-to-build" class="anchor-heading" aria-labelledby="different-ways-to-build"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Different ways to build</h2><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kt">def</span> <span class="n">intviewModel</span> <span class="o">=</span> <span class="n">TestData</span><span class="o">.</span><span class="na">build</span><span class="o">(</span><span class="n">InterviewModel</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">y</span> <span class="o">=</span> <span class="n">InterviewModel</span><span class="o">.</span><span class="na">build</span><span class="o">(</span><span class="nl">source:</span> <span class="n">Source</span><span class="o">.</span><span class="na">TBSIX</span><span class="o">)</span>
<span class="kt">def</span> <span class="n">z</span> <span class="o">=</span> <span class="n">build</span><span class="o">(</span><span class="n">InterviewModel</span><span class="o">,</span> <span class="nl">source:</span> <span class="n">Source</span><span class="o">.</span><span class="na">TBSIX</span><span class="o">)</span>    
</code></pre></div></div></main><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-100 mb-0"></p><div class="d-flex mt-2"><p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/14paxton/14paxton.github.io/edit/develop/./TestingFrameworks/Spock.md" id="edit-this-page">Edit this page on GitHub</a></p></div></footer></div></div><button id="search-button" class="search-button btn-reset" aria-label="Focus on search"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-search"></use></svg> </button><div class="search-overlay"></div></div>
